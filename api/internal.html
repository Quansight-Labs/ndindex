<!doctype html>
<html class="no-js" lang="en" data-content_root="../">
  <head><meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width,initial-scale=1"/>
    <meta name="color-scheme" content="light dark"><meta name="viewport" content="width=device-width, initial-scale=1" />
<link rel="index" title="Index" href="../genindex.html" /><link rel="search" title="Search" href="../search.html" /><link rel="next" title="Guide to NumPy Indexing" href="../indexing-guide/index.html" /><link rel="prev" title="Chunking" href="chunking.html" />

    <link rel="shortcut icon" href="../_static/favicon.ico"/><!-- Generated with Sphinx 7.3.7 and Furo 2024.05.06 -->
        <title>Internal API - ndindex documentation</title>
      <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=16cf08d2" />
    <link rel="stylesheet" type="text/css" href="../_static/styles/furo.css?v=387cc868" />
    <link rel="stylesheet" type="text/css" href="../_static/copybutton.css?v=76b2166b" />
    <link rel="stylesheet" type="text/css" href="../_static/plot_directive.css" />
    <link rel="stylesheet" type="text/css" href="../_static/sphinx-design.min.css?v=87e54e7c" />
    <link rel="stylesheet" type="text/css" href="../_static/styles/furo-extensions.css?v=36a5483c" />
    <link rel="stylesheet" type="text/css" href="../_static/custom.css?v=254c7fb8" />
    
    


<style>
  body {
    --color-code-background: #eeffcc;
  --color-code-foreground: black;
  --color-sidebar-background-border: var(--color-background-primary);
  --color-sidebar-brand-text: var(--color-sidebar-link-text--top-level);
  --color-admonition-title-background--seealso: #CCCCCC;
  --color-admonition-title--seealso: black;
  --color-admonition-title-background--note: #CCCCCC;
  --color-admonition-title--note: black;
  --color-admonition-title-background--warning: var(--color-problematic);
  --color-admonition-title--warning: white;
  --admonition-font-size: var(--font-size--normal);
  --admonition-title-font-size: var(--font-size--normal);
  --color-link-underline--hover: var(--color-link);
  --color-api-keyword: #000000bd;
  --color-api-name: var(--color-brand-content);
  --color-api-pre-name: var(--color-brand-content);
  --api-font-size: var(--font-size--normal);
  --code-font-size: var(--font-size--small);
  --color-highlight-on-target: var(--color-highlighted-background);
  --color-brand-primary: var(--color-brand-dark-blue);
  --color-brand-content: var(--color-brand-dark-blue);
  --color-sidebar-background: #EEEEEE;
  --color-sidebar-item-background--hover: var(--color-brand-light-blue);
  --color-sidebar-item-expander-background--hover: var(--color-brand-light-blue);
  
  }
  @media not print {
    body[data-theme="dark"] {
      --color-code-background: #202020;
  --color-code-foreground: #d0d0d0;
  --color-sidebar-background-border: var(--color-background-primary);
  --color-sidebar-brand-text: var(--color-sidebar-link-text--top-level);
  --color-admonition-title-background--seealso: #555555;
  --color-admonition-title--seealso: black;
  --color-admonition-title-background--note: #555555;
  --color-admonition-title--note: black;
  --color-admonition-title-background--warning: var(--color-problematic);
  --color-admonition-title--warning: white;
  --admonition-font-size: var(--font-size--normal);
  --admonition-title-font-size: var(--font-size--normal);
  --color-link-underline--hover: var(--color-link);
  --color-api-keyword: #FFFFFFbd;
  --color-api-name: var(--color-brand-content);
  --color-api-pre-name: var(--color-brand-content);
  --api-font-size: var(--font-size--normal);
  --code-font-size: var(--font-size--small);
  --color-highlight-on-target: var(--color-highlighted-background);
  --color-brand-primary: var(--color-brand-light-blue);
  --color-brand-content: var(--color-brand-light-blue);
  --color-api-overall: #FFFFFF90;
  --color-api-paren: #FFFFFF90;
  --color-background-primary: black;
  --color-sidebar-background: var(--color-brand-dark-bg);
  --color-sidebar-item-background--hover: var(--color-brand-medium-blue);
  --color-sidebar-item-expander-background--hover: var(--color-brand-medium-blue);
  --color-problematic: #B30000;
  
    }
    @media (prefers-color-scheme: dark) {
      body:not([data-theme="light"]) {
        --color-code-background: #202020;
  --color-code-foreground: #d0d0d0;
  --color-sidebar-background-border: var(--color-background-primary);
  --color-sidebar-brand-text: var(--color-sidebar-link-text--top-level);
  --color-admonition-title-background--seealso: #555555;
  --color-admonition-title--seealso: black;
  --color-admonition-title-background--note: #555555;
  --color-admonition-title--note: black;
  --color-admonition-title-background--warning: var(--color-problematic);
  --color-admonition-title--warning: white;
  --admonition-font-size: var(--font-size--normal);
  --admonition-title-font-size: var(--font-size--normal);
  --color-link-underline--hover: var(--color-link);
  --color-api-keyword: #FFFFFFbd;
  --color-api-name: var(--color-brand-content);
  --color-api-pre-name: var(--color-brand-content);
  --api-font-size: var(--font-size--normal);
  --code-font-size: var(--font-size--small);
  --color-highlight-on-target: var(--color-highlighted-background);
  --color-brand-primary: var(--color-brand-light-blue);
  --color-brand-content: var(--color-brand-light-blue);
  --color-api-overall: #FFFFFF90;
  --color-api-paren: #FFFFFF90;
  --color-background-primary: black;
  --color-sidebar-background: var(--color-brand-dark-bg);
  --color-sidebar-item-background--hover: var(--color-brand-medium-blue);
  --color-sidebar-item-expander-background--hover: var(--color-brand-medium-blue);
  --color-problematic: #B30000;
  
      }
    }
  }
</style></head>
  <body>
    
    <script>
      document.body.dataset.theme = localStorage.getItem("theme") || "auto";
    </script>
    

<svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
  <symbol id="svg-toc" viewBox="0 0 24 24">
    <title>Contents</title>
    <svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 1024 1024">
      <path d="M408 442h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8zm-8 204c0 4.4 3.6 8 8 8h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56zm504-486H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 632H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM115.4 518.9L271.7 642c5.8 4.6 14.4.5 14.4-6.9V388.9c0-7.4-8.5-11.5-14.4-6.9L115.4 505.1a8.74 8.74 0 0 0 0 13.8z"/>
    </svg>
  </symbol>
  <symbol id="svg-menu" viewBox="0 0 24 24">
    <title>Menu</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-menu">
      <line x1="3" y1="12" x2="21" y2="12"></line>
      <line x1="3" y1="6" x2="21" y2="6"></line>
      <line x1="3" y1="18" x2="21" y2="18"></line>
    </svg>
  </symbol>
  <symbol id="svg-arrow-right" viewBox="0 0 24 24">
    <title>Expand</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-chevron-right">
      <polyline points="9 18 15 12 9 6"></polyline>
    </svg>
  </symbol>
  <symbol id="svg-sun" viewBox="0 0 24 24">
    <title>Light mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="feather-sun">
      <circle cx="12" cy="12" r="5"></circle>
      <line x1="12" y1="1" x2="12" y2="3"></line>
      <line x1="12" y1="21" x2="12" y2="23"></line>
      <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
      <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
      <line x1="1" y1="12" x2="3" y2="12"></line>
      <line x1="21" y1="12" x2="23" y2="12"></line>
      <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
      <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
    </svg>
  </symbol>
  <symbol id="svg-moon" viewBox="0 0 24 24">
    <title>Dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-moon">
      <path stroke="none" d="M0 0h24v24H0z" fill="none" />
      <path d="M12 3c.132 0 .263 0 .393 0a7.5 7.5 0 0 0 7.92 12.446a9 9 0 1 1 -8.313 -12.454z" />
    </svg>
  </symbol>
  <symbol id="svg-sun-half" viewBox="0 0 24 24">
    <title>Auto light/dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-shadow">
      <path stroke="none" d="M0 0h24v24H0z" fill="none"/>
      <circle cx="12" cy="12" r="9" />
      <path d="M13 12h5" />
      <path d="M13 15h4" />
      <path d="M13 18h1" />
      <path d="M13 9h4" />
      <path d="M13 6h1" />
    </svg>
  </symbol>
  <symbol id="svg-sun-with-moon" viewBox="0 0 24 24">
    <title>Auto light/dark, in light mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round"
      class="icon-custom-derived-from-feather-sun-and-tabler-moon">
      <path style="opacity: 50%" d="M 5.411 14.504 C 5.471 14.504 5.532 14.504 5.591 14.504 C 3.639 16.319 4.383 19.569 6.931 20.352 C 7.693 20.586 8.512 20.551 9.25 20.252 C 8.023 23.207 4.056 23.725 2.11 21.184 C 0.166 18.642 1.702 14.949 4.874 14.536 C 5.051 14.512 5.231 14.5 5.411 14.5 L 5.411 14.504 Z"/>
      <line x1="14.5" y1="3.25" x2="14.5" y2="1.25"/>
      <line x1="14.5" y1="15.85" x2="14.5" y2="17.85"/>
      <line x1="10.044" y1="5.094" x2="8.63" y2="3.68"/>
      <line x1="19" y1="14.05" x2="20.414" y2="15.464"/>
      <line x1="8.2" y1="9.55" x2="6.2" y2="9.55"/>
      <line x1="20.8" y1="9.55" x2="22.8" y2="9.55"/>
      <line x1="10.044" y1="14.006" x2="8.63" y2="15.42"/>
      <line x1="19" y1="5.05" x2="20.414" y2="3.636"/>
      <circle cx="14.5" cy="9.55" r="3.6"/>
    </svg>
  </symbol>
  <symbol id="svg-moon-with-sun" viewBox="0 0 24 24">
    <title>Auto light/dark, in dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round"
      class="icon-custom-derived-from-feather-sun-and-tabler-moon">
      <path d="M 8.282 7.007 C 8.385 7.007 8.494 7.007 8.595 7.007 C 5.18 10.184 6.481 15.869 10.942 17.24 C 12.275 17.648 13.706 17.589 15 17.066 C 12.851 22.236 5.91 23.143 2.505 18.696 C -0.897 14.249 1.791 7.786 7.342 7.063 C 7.652 7.021 7.965 7 8.282 7 L 8.282 7.007 Z"/>
      <line style="opacity: 50%" x1="18" y1="3.705" x2="18" y2="2.5"/>
      <line style="opacity: 50%" x1="18" y1="11.295" x2="18" y2="12.5"/>
      <line style="opacity: 50%" x1="15.316" y1="4.816" x2="14.464" y2="3.964"/>
      <line style="opacity: 50%" x1="20.711" y1="10.212" x2="21.563" y2="11.063"/>
      <line style="opacity: 50%" x1="14.205" y1="7.5" x2="13.001" y2="7.5"/>
      <line style="opacity: 50%" x1="21.795" y1="7.5" x2="23" y2="7.5"/>
      <line style="opacity: 50%" x1="15.316" y1="10.184" x2="14.464" y2="11.036"/>
      <line style="opacity: 50%" x1="20.711" y1="4.789" x2="21.563" y2="3.937"/>
      <circle style="opacity: 50%" cx="18" cy="7.5" r="2.169"/>
    </svg>
  </symbol>
  <symbol id="svg-pencil" viewBox="0 0 24 24">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-pencil-code">
      <path d="M4 20h4l10.5 -10.5a2.828 2.828 0 1 0 -4 -4l-10.5 10.5v4" />
      <path d="M13.5 6.5l4 4" />
      <path d="M20 21l2 -2l-2 -2" />
      <path d="M17 17l-2 2l2 2" /
    </svg>
  </symbol>
  <symbol id="svg-eye" viewBox="0 0 24 24">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-eye-code">
      <path stroke="none" d="M0 0h24v24H0z" fill="none" />
      <path d="M10 12a2 2 0 1 0 4 0a2 2 0 0 0 -4 0" />
      <path
        d="M11.11 17.958c-3.209 -.307 -5.91 -2.293 -8.11 -5.958c2.4 -4 5.4 -6 9 -6c3.6 0 6.6 2 9 6c-.21 .352 -.427 .688 -.647 1.008" />
      <path d="M20 21l2 -2l-2 -2" />
      <path d="M17 17l-2 2l2 2" />
    </svg>
  </symbol>
</svg>

<input type="checkbox" class="sidebar-toggle" name="__navigation" id="__navigation">
<input type="checkbox" class="sidebar-toggle" name="__toc" id="__toc">
<label class="overlay sidebar-overlay" for="__navigation">
  <div class="visually-hidden">Hide navigation sidebar</div>
</label>
<label class="overlay toc-overlay" for="__toc">
  <div class="visually-hidden">Hide table of contents sidebar</div>
</label>

<a class="skip-to-content muted-link" href="#furo-main-content">Skip to content</a>



<div class="page">
  <header class="mobile-header">
    <div class="header-left">
      <label class="nav-overlay-icon" for="__navigation">
        <div class="visually-hidden">Toggle site navigation sidebar</div>
        <i class="icon"><svg><use href="#svg-menu"></use></svg></i>
      </label>
    </div>
    <div class="header-center">
      <a href="../index.html"><div class="brand">ndindex  documentation</div></a>
    </div>
    <div class="header-right">
      <div class="theme-toggle-container theme-toggle-header">
        <button class="theme-toggle">
          <div class="visually-hidden">Toggle Light / Dark / Auto color theme</div>
          <svg class="theme-icon-when-auto-light"><use href="#svg-sun-with-moon"></use></svg>
          <svg class="theme-icon-when-auto-dark"><use href="#svg-moon-with-sun"></use></svg>
          <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
          <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
        </button>
      </div>
      <label class="toc-overlay-icon toc-header-icon" for="__toc">
        <div class="visually-hidden">Toggle table of contents sidebar</div>
        <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
      </label>
    </div>
  </header>
  <aside class="sidebar-drawer">
    <div class="sidebar-container">
      
      <div class="sidebar-sticky"><div class="sidebar-scroll"><a class="sidebar-brand" href="../index.html">
  
  <div class="sidebar-logo-container">
    <img class="sidebar-logo only-light" src="../_static/ndindex_logo_white_bg.svg" alt="Light Logo"/>
    <img class="sidebar-logo only-dark" src="../_static/ndindex_logo_dark_bg.svg" alt="Dark Logo"/>
  </div>
  
  <span class="sidebar-brand-text">ndindex  documentation</span>
  
</a><form class="sidebar-search-container" method="get" action="../search.html" role="search">
  <input class="sidebar-search" placeholder="Search" name="q" aria-label="Search">
  <input type="hidden" name="check_keywords" value="yes">
  <input type="hidden" name="area" value="default">
</form>
<div id="searchbox"></div><div class="sidebar-tree">
  <ul class="current">
<li class="toctree-l1 current has-children"><a class="reference internal" href="index.html">API Reference</a><input checked="" class="toctree-checkbox" id="toctree-checkbox-1" name="toctree-checkbox-1" role="switch" type="checkbox"/><label for="toctree-checkbox-1"><div class="visually-hidden">Toggle navigation of API Reference</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="ndindex.html">ndindex</a></li>
<li class="toctree-l2"><a class="reference internal" href="index-types.html">Index Types</a></li>
<li class="toctree-l2"><a class="reference internal" href="shapetools.html">Shape Tools</a></li>
<li class="toctree-l2"><a class="reference internal" href="chunking.html">Chunking</a></li>
<li class="toctree-l2 current current-page"><a class="current reference internal" href="#">Internal API</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../indexing-guide/index.html">Guide to NumPy Indexing</a><input class="toctree-checkbox" id="toctree-checkbox-2" name="toctree-checkbox-2" role="switch" type="checkbox"/><label for="toctree-checkbox-2"><div class="visually-hidden">Toggle navigation of Guide to NumPy Indexing</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../indexing-guide/intro.html">Introduction: What is an Index?</a></li>
<li class="toctree-l2"><a class="reference internal" href="../indexing-guide/integer-indices.html">Integer Indices</a></li>
<li class="toctree-l2"><a class="reference internal" href="../indexing-guide/slices.html">Slices</a></li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../indexing-guide/multidimensional-indices/index.html">Multidimensional Indices</a><input class="toctree-checkbox" id="toctree-checkbox-3" name="toctree-checkbox-3" role="switch" type="checkbox"/><label for="toctree-checkbox-3"><div class="visually-hidden">Toggle navigation of Multidimensional Indices</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../indexing-guide/multidimensional-indices/what-is-an-array.html">What is an Array?</a></li>
<li class="toctree-l3"><a class="reference internal" href="../indexing-guide/multidimensional-indices/tuples.html">Tuple Indices</a></li>
<li class="toctree-l3"><a class="reference internal" href="../indexing-guide/multidimensional-indices/ellipses.html">Ellipses</a></li>
<li class="toctree-l3"><a class="reference internal" href="../indexing-guide/multidimensional-indices/newaxis.html">newaxis</a></li>
<li class="toctree-l3"><a class="reference internal" href="../indexing-guide/multidimensional-indices/integer-arrays.html">Integer Array Indices</a></li>
<li class="toctree-l3"><a class="reference internal" href="../indexing-guide/multidimensional-indices/boolean-arrays.html">Boolean Array Indices</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../indexing-guide/other-topics.html">Other Topics Relevant to Indexing</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../type-confusion.html">Type Confusion</a></li>
<li class="toctree-l1"><a class="reference internal" href="../changelog.html">ndindex Changelog</a></li>
<li class="toctree-l1"><a class="reference internal" href="../style-guide.html">Documentation Style Guide</a></li>
</ul>

</div></div><div class="sidebar-tree sidebar-extra">
  <ul>
    <li class="toctree-l1">
      <a class="sidebar-extra"
      href="https://github.com/Quansight-Labs/ndindex">GitHub<svg version="1.1" width="1.0em" height="1.0em" class="sd-octicon sd-octicon-link-external" viewBox="0 0 16 16" aria-hidden="true"><path fill-rule="evenodd" d="M10.604 1h4.146a.25.25 0 01.25.25v4.146a.25.25 0 01-.427.177L13.03 4.03 9.28 7.78a.75.75 0 01-1.06-1.06l3.75-3.75-1.543-1.543A.25.25 0 0110.604 1zM3.75 2A1.75 1.75 0 002 3.75v8.5c0 .966.784 1.75 1.75 1.75h8.5A1.75 1.75 0 0014 12.25v-3.5a.75.75 0 00-1.5 0v3.5a.25.25 0 01-.25.25h-8.5a.25.25 0 01-.25-.25v-8.5a.25.25 0 01.25-.25h3.5a.75.75 0 000-1.5h-3.5z"></path></svg></a>
    </li>
  </ul>
</div>
      </div>
      
    </div>
  </aside>
  <div class="main">
    <div class="content">
      <div class="article-container">
        <a href="#" class="back-to-top muted-link">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
            <path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12z"></path>
          </svg>
          <span>Back to top</span>
        </a>
        <div class="content-icon-container">
          <div class="view-this-page">
  <a class="muted-link" href="https://github.com/Quansight-Labs/ndindex/blob/main/docs/api/internal.rst?plain=true" title="View this page">
    <svg><use href="#svg-eye"></use></svg>
    <span class="visually-hidden">View this page</span>
  </a>
</div><div class="edit-this-page">
  <a class="muted-link" href="https://github.com/Quansight-Labs/ndindex/edit/main/docs/api/internal.rst" title="Edit this page">
    <svg><use href="#svg-pencil"></use></svg>
    <span class="visually-hidden">Edit this page</span>
  </a>
</div><div class="theme-toggle-container theme-toggle-content">
            <button class="theme-toggle">
              <div class="visually-hidden">Toggle Light / Dark / Auto color theme</div>
              <svg class="theme-icon-when-auto-light"><use href="#svg-sun-with-moon"></use></svg>
              <svg class="theme-icon-when-auto-dark"><use href="#svg-moon-with-sun"></use></svg>
              <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
              <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
            </button>
          </div>
          <label class="toc-overlay-icon toc-content-icon" for="__toc">
            <div class="visually-hidden">Toggle table of contents sidebar</div>
            <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
          </label>
        </div>
        <article role="main" id="furo-main-content">
          <section id="internal-api">
<h1>Internal API<a class="headerlink" href="#internal-api" title="Link to this heading">¶</a></h1>
<p>These classes are only intended for internal use in ndindex. They shouldn’t
relied on as they may be removed or changed.</p>
<p>Note that the documentation for methods on ndindex classes will sometimes link
to this page because the methods are defined on the on the
<a class="reference internal" href="#ndindex.ndindex.ImmutableObject" title="ndindex.ndindex.ImmutableObject"><code class="xref py py-class docutils literal notranslate"><span class="pre">ImmutableObject</span></code></a>, <a class="reference internal" href="#ndindex.ndindex.NDIndex" title="ndindex.ndindex.NDIndex"><code class="xref py py-class docutils literal notranslate"><span class="pre">NDIndex</span></code></a>, or <a class="reference internal" href="#ndindex.array.ArrayIndex" title="ndindex.array.ArrayIndex"><code class="xref py py-class docutils literal notranslate"><span class="pre">ArrayIndex</span></code></a> base
classes. These classes are not designed to be used directly. Such methods are
present on all <a class="reference external" href="index-types.rst">ndindex classes</a>, which are what should be
actually be constructed. Remember that the primary entry-point API for
constructing ndindex index classes is the <a class="reference internal" href="ndindex.html#ndindex.ndindex" title="ndindex.ndindex"><code class="xref py py-func docutils literal notranslate"><span class="pre">ndindex()</span></code></a> function.</p>
<section id="base-classes">
<h2>Base Classes<a class="headerlink" href="#base-classes" title="Link to this heading">¶</a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="ndindex.ndindex.ImmutableObject">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">ndindex.ndindex.</span></span><span class="sig-name descname"><span class="pre">ImmutableObject</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/Quansight-Labs/ndindex/blob/f17c7a5519e33d1a1b59760b4530fcaba7d636b6/ndindex/ndindex.py#L123-L210"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ndindex.ndindex.ImmutableObject" title="Link to this definition">¶</a></dt>
<dd><p>Base class for immutable objects.</p>
<p>Subclasses of this class are immutable objects. They all have the <code class="code docutils literal notranslate"><span class="pre">.args</span></code>
attribute, which gives the full necessary data to recreate the class, via,</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="nb">type</span><span class="p">(</span><span class="n">obj</span><span class="p">)(</span><span class="o">*</span><span class="n">obj</span><span class="o">.</span><span class="n">args</span><span class="p">)</span> <span class="o">==</span> <span class="n">obj</span>
</pre></div>
</div>
<p>Note: subclasses that specifically represent indices should subclass
<a class="reference internal" href="#ndindex.ndindex.NDIndex" title="ndindex.ndindex.NDIndex"><code class="xref py py-class docutils literal notranslate"><span class="pre">NDIndex</span></code></a> instead.</p>
<p>All classes that subclass <code class="code docutils literal notranslate"><span class="pre">ImmutableObject</span></code> should define the <code class="code docutils literal notranslate"><span class="pre">_typecheck</span></code>
method. <code class="code docutils literal notranslate"><span class="pre">_typecheck(self,</span> <span class="pre">*args)</span></code> should do type checking and basic type
canonicalization, and either return a tuple of the new arguments for the
class or raise an exception. Type checking means it should raise
exceptions for input types that are never semantically meaningful for
numpy arrays, for example, floating point indices, using the same
exceptions as numpy where possible. Basic type canonicalization means, for
instance, converting integers into <code class="code docutils literal notranslate"><span class="pre">int</span></code> using <code class="code docutils literal notranslate"><span class="pre">operator.index()</span></code>. All
other canonicalization should be done in the <code class="code docutils literal notranslate"><span class="pre">reduce()</span></code> method. The
<code class="code docutils literal notranslate"><span class="pre">ImmutableObject</span></code> base constructor will automatically set <code class="code docutils literal notranslate"><span class="pre">.args</span></code> to the
arguments returned by this method. Classes should always be able to
recreate themselves with <code class="code docutils literal notranslate"><span class="pre">.args</span></code>, i.e., <code class="code docutils literal notranslate"><span class="pre">type(obj)(*obj.args)</span> <span class="pre">==</span> <span class="pre">obj</span></code>
should always hold.</p>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="#ndindex.ndindex.NDIndex" title="ndindex.ndindex.NDIndex"><code class="xref py py-obj docutils literal notranslate"><span class="pre">NDIndex</span></code></a></p>
</div>
<dl class="py attribute">
<dt class="sig sig-object py" id="ndindex.ndindex.ImmutableObject.args">
<span class="sig-name descname"><span class="pre">args</span></span><a class="headerlink" href="#ndindex.ndindex.ImmutableObject.args" title="Link to this definition">¶</a></dt>
<dd><p><code class="code docutils literal notranslate"><span class="pre">idx.args</span></code> contains the arguments needed to create <code class="code docutils literal notranslate"><span class="pre">idx</span></code>.</p>
<p>For an ndindex object <code class="code docutils literal notranslate"><span class="pre">idx</span></code>, <code class="code docutils literal notranslate"><span class="pre">idx.args</span></code> is always a tuple such that</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="nb">type</span><span class="p">(</span><span class="n">idx</span><span class="p">)(</span><span class="o">*</span><span class="n">idx</span><span class="o">.</span><span class="n">args</span><span class="p">)</span> <span class="o">==</span> <span class="n">idx</span>
</pre></div>
</div>
<p>For <code class="xref py py-class docutils literal notranslate"><span class="pre">Tuple</span></code> indices, the elements of <code class="code docutils literal notranslate"><span class="pre">.args</span></code> are themselves
ndindex types. For other types, <code class="code docutils literal notranslate"><span class="pre">.args</span></code> contains raw Python types.
Note that <code class="code docutils literal notranslate"><span class="pre">.args</span></code> contains NumPy arrays for <a class="reference internal" href="index-types.html#ndindex.IntegerArray" title="ndindex.IntegerArray"><code class="xref py py-class docutils literal notranslate"><span class="pre">IntegerArray</span></code></a>
and <a class="reference internal" href="index-types.html#ndindex.BooleanArray" title="ndindex.BooleanArray"><code class="xref py py-class docutils literal notranslate"><span class="pre">BooleanArray</span></code></a> types, so one should always do equality
testing or hashing on the ndindex type itself, not its <code class="code docutils literal notranslate"><span class="pre">.args</span></code>.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="ndindex.ndindex.NDIndex">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">ndindex.ndindex.</span></span><span class="sig-name descname"><span class="pre">NDIndex</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/Quansight-Labs/ndindex/blob/f17c7a5519e33d1a1b59760b4530fcaba7d636b6/ndindex/ndindex.py#L212-L679"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ndindex.ndindex.NDIndex" title="Link to this definition">¶</a></dt>
<dd><p>Represents an index into an nd-array (i.e., a numpy array).</p>
<p>This is a base class for all ndindex types. All types that subclass this
class should redefine the following methods</p>
<ul class="simple">
<li><p><code class="code docutils literal notranslate"><span class="pre">_typecheck(self,</span> <span class="pre">*args)</span></code>. See the docstring of
<a class="reference internal" href="#ndindex.ndindex.ImmutableObject" title="ndindex.ndindex.ImmutableObject"><code class="xref py py-class docutils literal notranslate"><span class="pre">ImmutableObject</span></code></a>.</p></li>
<li><p><code class="code docutils literal notranslate"><span class="pre">raw</span></code> (a <strong>&#64;property</strong> method) should return the raw index that can be
passed as an index to a numpy array.</p></li>
</ul>
<p>In addition other methods on this should be re-defined as necessary. Some
methods have a default implementation on this class, which is sufficient
for some subclasses.</p>
<p>The methods <code class="code docutils literal notranslate"><span class="pre">__init__</span></code> and <code class="code docutils literal notranslate"><span class="pre">__eq__</span></code> should <em>not</em> be overridden. Equality
(and hashability) on <code class="code docutils literal notranslate"><span class="pre">NDIndex</span></code> subclasses is determined by equality of
types and <code class="code docutils literal notranslate"><span class="pre">.args</span></code>. Equivalent indices should not attempt to redefine
equality. Rather they should define canonicalization via <code class="code docutils literal notranslate"><span class="pre">reduce()</span></code>.
<code class="code docutils literal notranslate"><span class="pre">__hash__</span></code> is defined so that the hash matches the hash of <code class="code docutils literal notranslate"><span class="pre">.raw</span></code>. If
<code class="code docutils literal notranslate"><span class="pre">.raw</span></code> is unhashable, <code class="code docutils literal notranslate"><span class="pre">__hash__</span></code> should be overridden to use
<code class="code docutils literal notranslate"><span class="pre">hash(self.args)</span></code>.</p>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="#ndindex.ndindex.ImmutableObject" title="ndindex.ndindex.ImmutableObject"><code class="xref py py-obj docutils literal notranslate"><span class="pre">ImmutableObject</span></code></a></p>
</div>
<dl class="py method">
<dt class="sig sig-object py" id="ndindex.ndindex.NDIndex.as_subindex">
<span class="sig-name descname"><span class="pre">as_subindex</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">index</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/Quansight-Labs/ndindex/blob/f17c7a5519e33d1a1b59760b4530fcaba7d636b6/ndindex/ndindex.py#L470-L552"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ndindex.ndindex.NDIndex.as_subindex" title="Link to this definition">¶</a></dt>
<dd><p><code class="code docutils literal notranslate"><span class="pre">i.as_subindex(j)</span></code> produces an index <code class="code docutils literal notranslate"><span class="pre">k</span></code> such that <code class="code docutils literal notranslate"><span class="pre">a[j][k]</span></code> gives all of
the elements of <code class="code docutils literal notranslate"><span class="pre">a[j]</span></code> that are also in <code class="code docutils literal notranslate"><span class="pre">a[i]</span></code>.</p>
<p>If <code class="code docutils literal notranslate"><span class="pre">a[j]</span></code> is a subset of <code class="code docutils literal notranslate"><span class="pre">a[i]</span></code>, then <code class="code docutils literal notranslate"><span class="pre">a[j][k]</span> <span class="pre">==</span> <span class="pre">a[i]</span></code>. Otherwise,
<code class="code docutils literal notranslate"><span class="pre">a[j][k]</span> <span class="pre">==</span> <span class="pre">a[i</span> <span class="pre">&amp;</span> <span class="pre">j]</span></code>, where <code class="code docutils literal notranslate"><span class="pre">i</span> <span class="pre">&amp;</span> <span class="pre">j</span></code> is the intersection of <code class="code docutils literal notranslate"><span class="pre">i</span></code> and
<code class="code docutils literal notranslate"><span class="pre">j</span></code>, that is, the elements of <code class="code docutils literal notranslate"><span class="pre">a</span></code> that are indexed by both <code class="code docutils literal notranslate"><span class="pre">i</span></code> and
<code class="code docutils literal notranslate"><span class="pre">j</span></code>.</p>
<p>For example, in the below diagram, <code class="code docutils literal notranslate"><span class="pre">i</span></code> and <code class="code docutils literal notranslate"><span class="pre">j</span></code> index a subset of the
array <code class="code docutils literal notranslate"><span class="pre">a</span></code>. <code class="code docutils literal notranslate"><span class="pre">k</span> <span class="pre">=</span> <span class="pre">i.as_subindex(j)</span></code> is an index on <code class="code docutils literal notranslate"><span class="pre">a[j]</span></code> that gives the
subset of <code class="code docutils literal notranslate"><span class="pre">a[j]</span></code> also included in <code class="code docutils literal notranslate"><span class="pre">a[i]</span></code>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>    <span class="o">+------------</span> <span class="bp">self</span> <span class="o">------------+</span>
    <span class="o">|</span>                              <span class="o">|</span>
<span class="o">-------------------</span> <span class="n">a</span> <span class="o">-----------------------</span>
       <span class="o">|</span>                                 <span class="o">|</span>
       <span class="o">+-------------</span> <span class="n">index</span> <span class="o">-------------+</span>
       <span class="o">|</span>                           <span class="o">|</span>
       <span class="o">+-</span> <span class="bp">self</span><span class="o">.</span><span class="n">as_subindex</span><span class="p">(</span><span class="n">index</span><span class="p">)</span> <span class="o">-+</span>
</pre></div>
</div>
<p><code class="code docutils literal notranslate"><span class="pre">i.as_subindex(j)</span></code> is currently only implemented when <code class="code docutils literal notranslate"><span class="pre">j</span></code> is a slice
with positive steps and nonnegative start and stop, or a Tuple of the
same. To use it with slices with negative start or stop, call
<a class="reference internal" href="#ndindex.ndindex.NDIndex.reduce" title="ndindex.ndindex.NDIndex.reduce"><code class="xref py py-meth docutils literal notranslate"><span class="pre">reduce()</span></code></a> with a shape first.</p>
<p><code class="code docutils literal notranslate"><span class="pre">as_subindex</span></code> can be seen as the left-inverse of composition, that is,
if <code class="code docutils literal notranslate"><span class="pre">a[i]</span> <span class="pre">=</span> <span class="pre">a[j][k]</span></code>, then <code class="code docutils literal notranslate"><span class="pre">k</span> <span class="pre">=</span> <span class="pre">i.as_subindex(j)</span></code>, so that <code class="code docutils literal notranslate"><span class="pre">k</span> <span class="pre">&quot;=&quot;</span>
<span class="pre">(j^-1)[i]</span></code> (this only works as a true inverse if <code class="code docutils literal notranslate"><span class="pre">j</span></code> is a subset of
<code class="code docutils literal notranslate"><span class="pre">i</span></code>).</p>
<p>Note that due to symmetry, <code class="code docutils literal notranslate"><span class="pre">a[j][i.as_subindex(j)]</span></code> and
<code class="code docutils literal notranslate"><span class="pre">a[i][j.as_subindex(i)]</span></code> will give the same subarrays of <code class="code docutils literal notranslate"><span class="pre">a</span></code>, which
will be the array of elements indexed by both <code class="code docutils literal notranslate"><span class="pre">a[i]</span></code> and <code class="code docutils literal notranslate"><span class="pre">a[j]</span></code>.</p>
<p><code class="code docutils literal notranslate"><span class="pre">i.as_subindex(j)</span></code> may raise <code class="code docutils literal notranslate"><span class="pre">ValueError</span></code> in the case that the indices
<code class="code docutils literal notranslate"><span class="pre">i</span></code> and <code class="code docutils literal notranslate"><span class="pre">j</span></code> do not intersect at all.</p>
<p class="rubric">Examples</p>
<p>An example usage of <code class="code docutils literal notranslate"><span class="pre">as_subindex</span></code> is to split an index up into
subindices of chunks of an array. For example, say a 1-D array
<code class="code docutils literal notranslate"><span class="pre">a</span></code> is chunked up into chunks of size <code class="code docutils literal notranslate"><span class="pre">N</span></code>, so that <code class="code docutils literal notranslate"><span class="pre">a[0:N]</span></code>,
<code class="code docutils literal notranslate"><span class="pre">a[N:2*N]</span></code>, <code class="code docutils literal notranslate"><span class="pre">[2*N:3*N]</span></code>, etc. are stored separately. Then an index
<code class="code docutils literal notranslate"><span class="pre">a[i]</span></code> can be reindexed onto the chunks via <code class="code docutils literal notranslate"><span class="pre">i.as_subindex(Slice(0,</span>
<span class="pre">N))</span></code>, <code class="code docutils literal notranslate"><span class="pre">i.as_subindex(Slice(N,</span> <span class="pre">2*N))</span></code>, etc.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">ndindex</span> <span class="kn">import</span> <span class="n">Slice</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">i</span> <span class="o">=</span> <span class="n">Slice</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="mi">15</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">j1</span> <span class="o">=</span> <span class="n">Slice</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">10</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">j2</span> <span class="o">=</span> <span class="n">Slice</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">20</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">a</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="mi">20</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">a</span><span class="p">[</span><span class="n">i</span><span class="o">.</span><span class="n">raw</span><span class="p">]</span>
<span class="go">[5, 6, 7, 8, 9, 10, 11, 12, 13, 14]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">a</span><span class="p">[</span><span class="n">j1</span><span class="o">.</span><span class="n">raw</span><span class="p">]</span>
<span class="go">[0, 1, 2, 3, 4, 5, 6, 7, 8, 9]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">a</span><span class="p">[</span><span class="n">j2</span><span class="o">.</span><span class="n">raw</span><span class="p">]</span>
<span class="go">[10, 11, 12, 13, 14, 15, 16, 17, 18, 19]</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">k1</span> <span class="o">=</span> <span class="n">i</span><span class="o">.</span><span class="n">as_subindex</span><span class="p">(</span><span class="n">j1</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">k1</span>
<span class="go">Slice(5, 10, 1)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">k2</span> <span class="o">=</span> <span class="n">i</span><span class="o">.</span><span class="n">as_subindex</span><span class="p">(</span><span class="n">j2</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">k2</span>
<span class="go">Slice(0, 5, 1)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">a</span><span class="p">[</span><span class="n">j1</span><span class="o">.</span><span class="n">raw</span><span class="p">][</span><span class="n">k1</span><span class="o">.</span><span class="n">raw</span><span class="p">]</span>
<span class="go">[5, 6, 7, 8, 9]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">a</span><span class="p">[</span><span class="n">j2</span><span class="o">.</span><span class="n">raw</span><span class="p">][</span><span class="n">k2</span><span class="o">.</span><span class="n">raw</span><span class="p">]</span>
<span class="go">[10, 11, 12, 13, 14]</span>
</pre></div>
</div>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<dl class="simple">
<dt><a class="reference internal" href="chunking.html#ndindex.ChunkSize.as_subchunks" title="ndindex.ChunkSize.as_subchunks"><code class="xref py py-obj docutils literal notranslate"><span class="pre">ndindex.ChunkSize.as_subchunks</span></code></a></dt><dd><p>a high-level iterator that efficiently gives only those chunks that intersect with a given index</p>
</dd>
</dl>
<p><a class="reference internal" href="chunking.html#ndindex.ChunkSize.num_subchunks" title="ndindex.ChunkSize.num_subchunks"><code class="xref py py-obj docutils literal notranslate"><span class="pre">ndindex.ChunkSize.num_subchunks</span></code></a></p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ndindex.ndindex.NDIndex.broadcast_arrays">
<span class="sig-name descname"><span class="pre">broadcast_arrays</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference external" href="https://github.com/Quansight-Labs/ndindex/blob/f17c7a5519e33d1a1b59760b4530fcaba7d636b6/ndindex/ndindex.py#L587-L629"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ndindex.ndindex.NDIndex.broadcast_arrays" title="Link to this definition">¶</a></dt>
<dd><p>Broadcast all the array indices in self to a common shape and convert
boolean array indices into integer array indices.</p>
<p>The resulting index is equivalent in all contexts where the original
index is allowed. However, it is possible for the original index to
give an IndexError but for the new index to not, since integer array
indices have less stringent shape requirements than boolean array
indices. There are also some instances for empty indices
(<a class="reference internal" href="#ndindex.ndindex.NDIndex.isempty" title="ndindex.ndindex.NDIndex.isempty"><code class="xref any py py-meth docutils literal notranslate"><span class="pre">isempty</span></code></a> is True) where bounds would be checked before
broadcasting but not after.</p>
<p>Any <a class="reference internal" href="index-types.html#ndindex.BooleanArray" title="ndindex.BooleanArray"><code class="xref py py-class docutils literal notranslate"><span class="pre">BooleanArray</span></code></a> indices are converted to
<a class="reference internal" href="index-types.html#ndindex.IntegerArray" title="ndindex.IntegerArray"><code class="xref py py-class docutils literal notranslate"><span class="pre">IntegerArray</span></code></a> indices. Furthermore, if there are
<a class="reference internal" href="index-types.html#ndindex.BooleanArray" title="ndindex.BooleanArray"><code class="xref py py-class docutils literal notranslate"><span class="pre">BooleanArray</span></code></a> or <a class="reference internal" href="index-types.html#ndindex.IntegerArray" title="ndindex.IntegerArray"><code class="xref py py-class docutils literal notranslate"><span class="pre">IntegerArray</span></code></a> indices, then any
<a class="reference internal" href="index-types.html#ndindex.Integer" title="ndindex.Integer"><code class="xref py py-class docutils literal notranslate"><span class="pre">Integer</span></code></a> indices are also converted into scalar
<a class="reference internal" href="index-types.html#ndindex.IntegerArray" title="ndindex.IntegerArray"><code class="xref py py-class docutils literal notranslate"><span class="pre">IntegerArray</span></code></a> indices and broadcast. Furthermore, if there are
multiple boolean scalar indices (<code class="code docutils literal notranslate"><span class="pre">True</span></code> or <code class="code docutils literal notranslate"><span class="pre">False</span></code>), they are combined
into a single one.</p>
<p>Note that array broadcastability is checked in the <code class="xref py py-class docutils literal notranslate"><span class="pre">Tuple</span></code>
constructor, so this method will not raise any exceptions.</p>
<p>This is part of what is performed by <a class="reference internal" href="#ndindex.ndindex.NDIndex.expand" title="ndindex.ndindex.NDIndex.expand"><code class="xref any py py-meth docutils literal notranslate"><span class="pre">expand</span></code></a>, but unlike
<a class="reference internal" href="#ndindex.ndindex.NDIndex.expand" title="ndindex.ndindex.NDIndex.expand"><code class="xref any py py-meth docutils literal notranslate"><span class="pre">expand</span></code></a>, this method does not do any other manipulations, and it
does not require a shape.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">ndindex</span> <span class="kn">import</span> <span class="n">Tuple</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">idx</span> <span class="o">=</span> <span class="n">Tuple</span><span class="p">([[</span><span class="kc">False</span><span class="p">],</span> <span class="p">[</span><span class="kc">True</span><span class="p">],</span> <span class="p">[</span><span class="kc">True</span><span class="p">]],</span> <span class="p">[[</span><span class="mi">4</span><span class="p">],</span> <span class="p">[</span><span class="mi">5</span><span class="p">],</span> <span class="p">[</span><span class="mi">5</span><span class="p">]],</span> <span class="o">-</span><span class="mi">1</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">idx</span><span class="o">.</span><span class="n">broadcast_arrays</span><span class="p">())</span>
<span class="go">Tuple(IntegerArray([[1 2] [1 2] [1 2]]),</span>
<span class="go">      IntegerArray([[0 0] [0 0] [0 0]]),</span>
<span class="go">      IntegerArray([[4 4] [5 5] [5 5]]),</span>
<span class="go">      IntegerArray([[-1 -1] [-1 -1] [-1 -1]]))</span>
</pre></div>
</div>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="#ndindex.ndindex.NDIndex.expand" title="ndindex.ndindex.NDIndex.expand"><code class="xref py py-obj docutils literal notranslate"><span class="pre">expand</span></code></a></p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ndindex.ndindex.NDIndex.expand">
<span class="sig-name descname"><span class="pre">expand</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">shape</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/Quansight-Labs/ndindex/blob/f17c7a5519e33d1a1b59760b4530fcaba7d636b6/ndindex/ndindex.py#L366-L438"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ndindex.ndindex.NDIndex.expand" title="Link to this definition">¶</a></dt>
<dd><p>Expand a Tuple index on an array of shape <code class="code docutils literal notranslate"><span class="pre">shape</span></code></p>
<p>An expanded index is as explicit as possible. Unlike <a class="reference internal" href="#ndindex.ndindex.NDIndex.reduce" title="ndindex.ndindex.NDIndex.reduce"><code class="xref py py-meth docutils literal notranslate"><span class="pre">reduce</span></code></a>, which tries to simplify an index
and remove redundancies, <code class="code docutils literal notranslate"><span class="pre">expand()</span></code> typically makes an index larger.</p>
<p>If <code class="code docutils literal notranslate"><span class="pre">self</span></code> is invalid for the given shape, an <code class="code docutils literal notranslate"><span class="pre">IndexError</span></code> is raised.
Otherwise, the returned index satisfies the following:</p>
<ul class="simple">
<li><p>It is always a <code class="xref py py-class docutils literal notranslate"><span class="pre">Tuple</span></code>.</p></li>
<li><p>All the elements of the <code class="xref py py-class docutils literal notranslate"><span class="pre">Tuple</span></code> are recursively <a class="reference internal" href="#ndindex.ndindex.NDIndex.reduce" title="ndindex.ndindex.NDIndex.reduce"><code class="xref any py py-meth docutils literal notranslate"><span class="pre">reduced</span></code></a>.</p></li>
<li><p>The length of the <code class="code docutils literal notranslate"><span class="pre">.args</span></code> is equal to the length of the shape plus
the number of <a class="reference internal" href="index-types.html#ndindex.Newaxis" title="ndindex.Newaxis"><code class="xref py py-class docutils literal notranslate"><span class="pre">Newaxis</span></code></a> indices in <code class="code docutils literal notranslate"><span class="pre">self</span></code> plus 1 if there
is a scalar <a class="reference internal" href="index-types.html#ndindex.BooleanArray" title="ndindex.BooleanArray"><code class="xref py py-class docutils literal notranslate"><span class="pre">BooleanArray</span></code></a> (<code class="code docutils literal notranslate"><span class="pre">True</span></code> or <code class="code docutils literal notranslate"><span class="pre">False</span></code>).</p></li>
<li><p>The resulting <code class="xref py py-class docutils literal notranslate"><span class="pre">Tuple</span></code> has no <a class="reference internal" href="index-types.html#ndindex.ellipsis" title="ndindex.ellipsis"><code class="xref py py-class docutils literal notranslate"><span class="pre">ellipses</span></code></a>. If there are axes that would be matched by an
ellipsis or an implicit ellipsis at the end of the tuple, <code class="code docutils literal notranslate"><span class="pre">Slice(0,</span>
<span class="pre">n,</span> <span class="pre">1)</span></code> indices are inserted, where <code class="code docutils literal notranslate"><span class="pre">n</span></code> is the corresponding axis of
the <code class="code docutils literal notranslate"><span class="pre">shape</span></code>.</p></li>
<li><p>Any array indices in <code class="code docutils literal notranslate"><span class="pre">self</span></code> are broadcast together. If <code class="code docutils literal notranslate"><span class="pre">self</span></code>
contains array indices (<a class="reference internal" href="index-types.html#ndindex.IntegerArray" title="ndindex.IntegerArray"><code class="xref py py-class docutils literal notranslate"><span class="pre">IntegerArray</span></code></a> or
<a class="reference internal" href="index-types.html#ndindex.BooleanArray" title="ndindex.BooleanArray"><code class="xref py py-class docutils literal notranslate"><span class="pre">BooleanArray</span></code></a>), then any <a class="reference internal" href="index-types.html#ndindex.Integer" title="ndindex.Integer"><code class="xref py py-class docutils literal notranslate"><span class="pre">Integer</span></code></a> indices are
converted into <a class="reference internal" href="index-types.html#ndindex.IntegerArray" title="ndindex.IntegerArray"><code class="xref py py-class docutils literal notranslate"><span class="pre">IntegerArray</span></code></a> indices of shape <code class="code docutils literal notranslate"><span class="pre">()</span></code> and
broadcast. Note that broadcasting is done in a memory efficient way
so that even if the broadcasted shape is large it will not take up
more memory than the original.</p></li>
<li><p>Scalar <a class="reference internal" href="index-types.html#ndindex.BooleanArray" title="ndindex.BooleanArray"><code class="xref py py-class docutils literal notranslate"><span class="pre">BooleanArray</span></code></a> arguments (<code class="code docutils literal notranslate"><span class="pre">True</span></code> or <code class="code docutils literal notranslate"><span class="pre">False</span></code>) are
combined into a single term (the same as with <a class="reference internal" href="index-types.html#ndindex.Tuple.reduce" title="ndindex.Tuple.reduce"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Tuple.reduce()</span></code></a>).</p></li>
<li><p>Non-scalar <a class="reference internal" href="index-types.html#ndindex.BooleanArray" title="ndindex.BooleanArray"><code class="xref py py-class docutils literal notranslate"><span class="pre">BooleanArray</span></code></a>s are all converted into
equivalent <a class="reference internal" href="index-types.html#ndindex.IntegerArray" title="ndindex.IntegerArray"><code class="xref py py-class docutils literal notranslate"><span class="pre">IntegerArray</span></code></a>s via <code class="code docutils literal notranslate"><span class="pre">nonzero()</span></code> and
broadcasted.</p></li>
</ul>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">ndindex</span> <span class="kn">import</span> <span class="n">Tuple</span><span class="p">,</span> <span class="n">Slice</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">Slice</span><span class="p">(</span><span class="kc">None</span><span class="p">)</span><span class="o">.</span><span class="n">expand</span><span class="p">((</span><span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">))</span>
<span class="go">Tuple(slice(0, 2, 1), slice(0, 3, 1))</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">idx</span> <span class="o">=</span> <span class="n">Tuple</span><span class="p">(</span><span class="nb">slice</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">10</span><span class="p">),</span> <span class="o">...</span><span class="p">,</span> <span class="kc">None</span><span class="p">,</span> <span class="o">-</span><span class="mi">3</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">idx</span><span class="o">.</span><span class="n">expand</span><span class="p">((</span><span class="mi">5</span><span class="p">,</span> <span class="mi">3</span><span class="p">))</span>
<span class="go">Tuple(slice(0, 5, 1), None, 0)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">idx</span><span class="o">.</span><span class="n">expand</span><span class="p">((</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">))</span>
<span class="go">Tuple(slice(0, 1, 1), slice(0, 2, 1), None, 0)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">idx</span><span class="o">.</span><span class="n">expand</span><span class="p">((</span><span class="mi">5</span><span class="p">,))</span>
<span class="gt">Traceback (most recent call last):</span>
<span class="c">...</span>
<span class="gr">IndexError</span>: <span class="n">too many indices for array: array is 1-dimensional, but 2 were indexed</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">idx</span><span class="o">.</span><span class="n">expand</span><span class="p">((</span><span class="mi">5</span><span class="p">,</span> <span class="mi">2</span><span class="p">))</span>
<span class="gt">Traceback (most recent call last):</span>
<span class="c">...</span>
<span class="gr">IndexError</span>: <span class="n">index -3 is out of bounds for axis 1 with size 2</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">idx</span> <span class="o">=</span> <span class="n">Tuple</span><span class="p">(</span><span class="o">...</span><span class="p">,</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span> <span class="o">-</span><span class="mi">1</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">idx</span><span class="o">.</span><span class="n">expand</span><span class="p">((</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">))</span>
<span class="go">Tuple(slice(0, 1, 1), [0, 1], [2, 2])</span>
</pre></div>
</div>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="index-types.html#ndindex.Tuple.reduce" title="ndindex.Tuple.reduce"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Tuple.reduce</span></code></a>, <a class="reference internal" href="#ndindex.ndindex.NDIndex.broadcast_arrays" title="ndindex.ndindex.NDIndex.broadcast_arrays"><code class="xref py py-obj docutils literal notranslate"><span class="pre">broadcast_arrays</span></code></a></p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ndindex.ndindex.NDIndex.isempty">
<span class="sig-name descname"><span class="pre">isempty</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">shape</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/Quansight-Labs/ndindex/blob/f17c7a5519e33d1a1b59760b4530fcaba7d636b6/ndindex/ndindex.py#L554-L585"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ndindex.ndindex.NDIndex.isempty" title="Link to this definition">¶</a></dt>
<dd><p>Returns whether self always indexes an empty array</p>
<p>An empty array is an array whose shape contains at least one 0. Note
that scalars (arrays with shape <code class="code docutils literal notranslate"><span class="pre">()</span></code>) are not considered empty.</p>
<p><code class="code docutils literal notranslate"><span class="pre">shape</span></code> can be <code class="code docutils literal notranslate"><span class="pre">None</span></code> (the default), or an array shape. If it is
<code class="code docutils literal notranslate"><span class="pre">None</span></code>, isempty() will return <code class="code docutils literal notranslate"><span class="pre">True</span></code> when <code class="code docutils literal notranslate"><span class="pre">self</span></code> is always empty for
any array shape. However, if it gives <code class="code docutils literal notranslate"><span class="pre">False</span></code>, it could still give an
empty array for some array shapes, but not all. If you know the shape
of the array that will be indexed, use <code class="code docutils literal notranslate"><span class="pre">idx.isempty(shape)</span></code> and the
result will be correct for arrays of shape <code class="code docutils literal notranslate"><span class="pre">shape</span></code>. If <code class="code docutils literal notranslate"><span class="pre">shape</span></code> is
given and <code class="code docutils literal notranslate"><span class="pre">self</span></code> would raise an <code class="code docutils literal notranslate"><span class="pre">IndexError</span></code> on an array of shape
<code class="code docutils literal notranslate"><span class="pre">shape</span></code>, <code class="code docutils literal notranslate"><span class="pre">isempty()</span></code> also raises <code class="code docutils literal notranslate"><span class="pre">IndexError</span></code>.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">ndindex</span> <span class="kn">import</span> <span class="n">Tuple</span><span class="p">,</span> <span class="n">Slice</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">Tuple</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="nb">slice</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">))</span><span class="o">.</span><span class="n">isempty</span><span class="p">()</span>
<span class="go">False</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">Tuple</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="nb">slice</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">))</span><span class="o">.</span><span class="n">isempty</span><span class="p">()</span>
<span class="go">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">Slice</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="mi">10</span><span class="p">)</span><span class="o">.</span><span class="n">isempty</span><span class="p">()</span>
<span class="go">False</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">Slice</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="mi">10</span><span class="p">)</span><span class="o">.</span><span class="n">isempty</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span>
<span class="go">True</span>
</pre></div>
</div>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="index-types.html#ndindex.Slice.__len__" title="ndindex.Slice.__len__"><code class="xref py py-obj docutils literal notranslate"><span class="pre">ndindex.Slice.__len__</span></code></a></p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ndindex.ndindex.NDIndex.isvalid">
<span class="sig-name descname"><span class="pre">isvalid</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">shape</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/Quansight-Labs/ndindex/blob/f17c7a5519e33d1a1b59760b4530fcaba7d636b6/ndindex/ndindex.py#L326-L364"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ndindex.ndindex.NDIndex.isvalid" title="Link to this definition">¶</a></dt>
<dd><p>Check whether a given index is valid on an array of a given shape.</p>
<p>Returns <code class="code docutils literal notranslate"><span class="pre">True</span></code> if an array of shape <code class="code docutils literal notranslate"><span class="pre">shape</span></code> can be indexed by <code class="code docutils literal notranslate"><span class="pre">self</span></code>
and <code class="code docutils literal notranslate"><span class="pre">False</span></code> if it would raise <code class="code docutils literal notranslate"><span class="pre">IndexError</span></code>.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">ndindex</span> <span class="kn">import</span> <span class="n">ndindex</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ndindex</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span><span class="o">.</span><span class="n">isvalid</span><span class="p">((</span><span class="mi">4</span><span class="p">,))</span>
<span class="go">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ndindex</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span><span class="o">.</span><span class="n">isvalid</span><span class="p">((</span><span class="mi">2</span><span class="p">,))</span>
<span class="go">False</span>
</pre></div>
</div>
<p>Note that some indices can never be valid and will raise a
<code class="code docutils literal notranslate"><span class="pre">IndexError</span></code> or <code class="code docutils literal notranslate"><span class="pre">TypeError</span></code> if you attempt to construct them.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">ndindex</span><span class="p">((</span><span class="o">...</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="o">...</span><span class="p">))</span>
<span class="gt">Traceback (most recent call last):</span>
<span class="w">  </span><span class="c">...</span>
<span class="gr">IndexError</span>: <span class="n">an index can only have a single ellipsis (&#39;...&#39;)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ndindex</span><span class="p">(</span><span class="nb">slice</span><span class="p">(</span><span class="kc">True</span><span class="p">))</span>
<span class="gt">Traceback (most recent call last):</span>
<span class="w">  </span><span class="c">...</span>
<span class="gr">TypeError</span>: <span class="n">&#39;bool&#39; object cannot be interpreted as an integer</span>
</pre></div>
</div>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="#ndindex.ndindex.NDIndex.newshape" title="ndindex.ndindex.NDIndex.newshape"><code class="xref py py-obj docutils literal notranslate"><span class="pre">NDIndex.newshape</span></code></a></p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ndindex.ndindex.NDIndex.newshape">
<span class="sig-name descname"><span class="pre">newshape</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">shape</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/Quansight-Labs/ndindex/blob/f17c7a5519e33d1a1b59760b4530fcaba7d636b6/ndindex/ndindex.py#L440-L468"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ndindex.ndindex.NDIndex.newshape" title="Link to this definition">¶</a></dt>
<dd><p>Returns the shape of <code class="code docutils literal notranslate"><span class="pre">a[idx.raw]</span></code>, assuming <code class="code docutils literal notranslate"><span class="pre">a</span></code> has shape <code class="code docutils literal notranslate"><span class="pre">shape</span></code>.</p>
<p><code class="code docutils literal notranslate"><span class="pre">shape</span></code> should be a tuple of ints, or an int, which is equivalent to a
1-D shape.</p>
<p>Raises <code class="code docutils literal notranslate"><span class="pre">IndexError</span></code> if <code class="code docutils literal notranslate"><span class="pre">self</span></code> would be invalid for an array of shape
<code class="code docutils literal notranslate"><span class="pre">shape</span></code>.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">ndindex</span> <span class="kn">import</span> <span class="n">Slice</span><span class="p">,</span> <span class="n">Integer</span><span class="p">,</span> <span class="n">Tuple</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">shape</span> <span class="o">=</span> <span class="p">(</span><span class="mi">6</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="mi">8</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">Integer</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span><span class="o">.</span><span class="n">newshape</span><span class="p">(</span><span class="n">shape</span><span class="p">)</span>
<span class="go">(7, 8)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">Integer</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span><span class="o">.</span><span class="n">newshape</span><span class="p">(</span><span class="n">shape</span><span class="p">)</span>
<span class="gt">Traceback (most recent call last):</span>
<span class="c">...</span>
<span class="gr">IndexError</span>: <span class="n">index 10 is out of bounds for axis 0 with size 6</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">Slice</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">5</span><span class="p">)</span><span class="o">.</span><span class="n">newshape</span><span class="p">(</span><span class="n">shape</span><span class="p">)</span>
<span class="go">(3, 7, 8)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">Tuple</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="o">...</span><span class="p">,</span> <span class="n">Slice</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="p">))</span><span class="o">.</span><span class="n">newshape</span><span class="p">(</span><span class="n">shape</span><span class="p">)</span>
<span class="go">(7, 2)</span>
</pre></div>
</div>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="#ndindex.ndindex.NDIndex.isvalid" title="ndindex.ndindex.NDIndex.isvalid"><code class="xref py py-obj docutils literal notranslate"><span class="pre">NDIndex.isvalid</span></code></a></p>
</div>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="ndindex.ndindex.NDIndex.raw">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">raw</span></span><a class="headerlink" href="#ndindex.ndindex.NDIndex.raw" title="Link to this definition">¶</a></dt>
<dd><p>Return the equivalent of <code class="code docutils literal notranslate"><span class="pre">self</span></code> that can be used as an index</p>
<p>NumPy does not allow custom objects to be used as indices, with the
exception of integer indices, so to use an ndindex object as an
index, it is necessary to use <code class="code docutils literal notranslate"><span class="pre">raw</span></code>.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">ndindex</span> <span class="kn">import</span> <span class="n">Slice</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">a</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">s</span> <span class="o">=</span> <span class="n">Slice</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">4</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">a</span><span class="p">[</span><span class="n">s</span><span class="p">]</span>
<span class="gt">Traceback (most recent call last):</span>
<span class="c">...</span>
<span class="gr">IndexError</span>: <span class="n">only integers, slices (`:`), ellipsis (`...`), numpy.newaxis (`None`) and integer or boolean arrays are valid indices</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">a</span><span class="p">[</span><span class="n">s</span><span class="o">.</span><span class="n">raw</span><span class="p">]</span>
<span class="go">array([2, 3])</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ndindex.ndindex.NDIndex.reduce">
<span class="sig-name descname"><span class="pre">reduce</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">shape</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">negative_int</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/Quansight-Labs/ndindex/blob/f17c7a5519e33d1a1b59760b4530fcaba7d636b6/ndindex/ndindex.py#L287-L324"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ndindex.ndindex.NDIndex.reduce" title="Link to this definition">¶</a></dt>
<dd><p>Simplify an index given that it will be applied to an array of a given shape.</p>
<p>If <code class="code docutils literal notranslate"><span class="pre">shape</span></code> is None (the default), the index will be canonicalized as
much as possible while still staying equivalent for all array shapes
that it does not raise IndexError for.</p>
<p>Either returns a new index type, which is equivalent on arrays of
shape <code class="code docutils literal notranslate"><span class="pre">shape</span></code>, or raises IndexError if the index would give an index
error (for instance, out of bounds integer index or too many indices
for array).</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">ndindex</span> <span class="kn">import</span> <span class="n">Slice</span><span class="p">,</span> <span class="n">Integer</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">Slice</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">10</span><span class="p">)</span><span class="o">.</span><span class="n">reduce</span><span class="p">((</span><span class="mi">5</span><span class="p">,))</span>
<span class="go">Slice(0, 5, 1)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">Integer</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span><span class="o">.</span><span class="n">reduce</span><span class="p">((</span><span class="mi">5</span><span class="p">,))</span>
<span class="gt">Traceback (most recent call last):</span>
<span class="c">...</span>
<span class="gr">IndexError</span>: <span class="n">index 10 is out of bounds for axis 0 with size 5</span>
</pre></div>
</div>
<p>For single axis indices such as Slice and Tuple, <code class="code docutils literal notranslate"><span class="pre">reduce</span></code> takes an
optional <code class="code docutils literal notranslate"><span class="pre">axis</span></code> argument to specify the axis, defaulting to 0.</p>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="index-types.html#ndindex.Integer.reduce" title="ndindex.Integer.reduce"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Integer.reduce</span></code></a>, <a class="reference internal" href="index-types.html#ndindex.Tuple.reduce" title="ndindex.Tuple.reduce"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Tuple.reduce</span></code></a>, <a class="reference internal" href="index-types.html#ndindex.Slice.reduce" title="ndindex.Slice.reduce"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Slice.reduce</span></code></a>, <a class="reference internal" href="index-types.html#ndindex.ellipsis.reduce" title="ndindex.ellipsis.reduce"><code class="xref py py-obj docutils literal notranslate"><span class="pre">ellipsis.reduce</span></code></a>, <a class="reference internal" href="index-types.html#ndindex.Newaxis.reduce" title="ndindex.Newaxis.reduce"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Newaxis.reduce</span></code></a>, <a class="reference internal" href="index-types.html#ndindex.IntegerArray.reduce" title="ndindex.IntegerArray.reduce"><code class="xref py py-obj docutils literal notranslate"><span class="pre">IntegerArray.reduce</span></code></a>, <a class="reference internal" href="index-types.html#ndindex.BooleanArray.reduce" title="ndindex.BooleanArray.reduce"><code class="xref py py-obj docutils literal notranslate"><span class="pre">BooleanArray.reduce</span></code></a></p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ndindex.ndindex.NDIndex.selected_indices">
<span class="sig-name descname"><span class="pre">selected_indices</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">shape</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">axis</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/Quansight-Labs/ndindex/blob/f17c7a5519e33d1a1b59760b4530fcaba7d636b6/ndindex/ndindex.py#L631-L679"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ndindex.ndindex.NDIndex.selected_indices" title="Link to this definition">¶</a></dt>
<dd><p>Return an iterator over all indices that are selected by <code class="code docutils literal notranslate"><span class="pre">self</span></code> on an
array of shape <code class="code docutils literal notranslate"><span class="pre">shape</span></code>.</p>
<p>The result is a set of indices <code class="code docutils literal notranslate"><span class="pre">i</span></code> such that <code class="code docutils literal notranslate"><span class="pre">[a[i]</span> <span class="pre">for</span> <span class="pre">i</span> <span class="pre">in</span>
<span class="pre">idx.selected_indices(a.shape)]</span></code> is all the elements of <code class="code docutils literal notranslate"><span class="pre">a[idx]</span></code>. The
indices are all iterated over in C (i.e., row major) order.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">ndindex</span> <span class="kn">import</span> <span class="n">Slice</span><span class="p">,</span> <span class="n">Tuple</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">idx</span> <span class="o">=</span> <span class="n">Slice</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="mi">10</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">list</span><span class="p">(</span><span class="n">idx</span><span class="o">.</span><span class="n">selected_indices</span><span class="p">(</span><span class="mi">20</span><span class="p">))</span>
<span class="go">[Integer(5), Integer(6), Integer(7), Integer(8), Integer(9)]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">idx</span> <span class="o">=</span> <span class="n">Tuple</span><span class="p">(</span><span class="n">Slice</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="mi">10</span><span class="p">),</span> <span class="n">Slice</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">2</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">list</span><span class="p">(</span><span class="n">idx</span><span class="o">.</span><span class="n">selected_indices</span><span class="p">((</span><span class="mi">20</span><span class="p">,</span> <span class="mi">3</span><span class="p">)))</span>
<span class="go">[Tuple(5, 0), Tuple(5, 1),</span>
<span class="go"> Tuple(6, 0), Tuple(6, 1),</span>
<span class="go"> Tuple(7, 0), Tuple(7, 1),</span>
<span class="go"> Tuple(8, 0), Tuple(8, 1),</span>
<span class="go"> Tuple(9, 0), Tuple(9, 1)]</span>
</pre></div>
</div>
<p>To correspond these indices to the elements of <code class="code docutils literal notranslate"><span class="pre">a[idx]</span></code>, you can use
<code class="code docutils literal notranslate"><span class="pre">iter_indices(idx.newshape(shape))</span></code>, since both iterators iterate the
indices in C order.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">ndindex</span> <span class="kn">import</span> <span class="n">iter_indices</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">idx</span> <span class="o">=</span> <span class="n">Tuple</span><span class="p">(</span><span class="n">Slice</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">5</span><span class="p">),</span> <span class="n">Slice</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">2</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">shape</span> <span class="o">=</span> <span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="mi">5</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">a</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mi">25</span><span class="p">)</span><span class="o">.</span><span class="n">reshape</span><span class="p">(</span><span class="n">shape</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">a_idx</span><span class="p">,</span> <span class="p">(</span><span class="n">new_idx</span><span class="p">,)</span> <span class="ow">in</span> <span class="nb">zip</span><span class="p">(</span>
<span class="gp">... </span>   <span class="n">idx</span><span class="o">.</span><span class="n">selected_indices</span><span class="p">(</span><span class="n">shape</span><span class="p">),</span>
<span class="gp">... </span>   <span class="n">iter_indices</span><span class="p">(</span><span class="n">idx</span><span class="o">.</span><span class="n">newshape</span><span class="p">(</span><span class="n">shape</span><span class="p">))):</span>
<span class="gp">... </span>       <span class="nb">print</span><span class="p">(</span><span class="n">a_idx</span><span class="p">,</span> <span class="n">new_idx</span><span class="p">,</span> <span class="n">a</span><span class="p">[</span><span class="n">a_idx</span><span class="o">.</span><span class="n">raw</span><span class="p">],</span> <span class="n">a</span><span class="p">[</span><span class="n">idx</span><span class="o">.</span><span class="n">raw</span><span class="p">][</span><span class="n">new_idx</span><span class="o">.</span><span class="n">raw</span><span class="p">])</span>
<span class="go">Tuple(3, 0) Tuple(0, 0) 15 15</span>
<span class="go">Tuple(3, 1) Tuple(0, 1) 16 16</span>
<span class="go">Tuple(4, 0) Tuple(1, 0) 20 20</span>
<span class="go">Tuple(4, 1) Tuple(1, 1) 21 21</span>
</pre></div>
</div>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<dl class="simple">
<dt><a class="reference internal" href="shapetools.html#ndindex.iter_indices" title="ndindex.iter_indices"><code class="xref py py-obj docutils literal notranslate"><span class="pre">ndindex.iter_indices</span></code></a></dt><dd><p>An iterator of indices to select every element for arrays of a given shape.</p>
</dd>
<dt><a class="reference internal" href="chunking.html#ndindex.ChunkSize.as_subchunks" title="ndindex.ChunkSize.as_subchunks"><code class="xref py py-obj docutils literal notranslate"><span class="pre">ndindex.ChunkSize.as_subchunks</span></code></a></dt><dd><p>A high-level iterator that efficiently gives only those chunks that intersect with a given index</p>
</dd>
</dl>
</div>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="ndindex.array.ArrayIndex">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">ndindex.array.</span></span><span class="sig-name descname"><span class="pre">ArrayIndex</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">idx</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">shape</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">_copy</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/Quansight-Labs/ndindex/blob/f17c7a5519e33d1a1b59760b4530fcaba7d636b6/ndindex/array.py#L6-L180"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ndindex.array.ArrayIndex" title="Link to this definition">¶</a></dt>
<dd><p>Superclass for array indices</p>
<p>This class should not be instantiated directly. Rather, use one of its
subclasses, <a class="reference internal" href="index-types.html#ndindex.IntegerArray" title="ndindex.IntegerArray"><code class="xref py py-class docutils literal notranslate"><span class="pre">IntegerArray</span></code></a> or <a class="reference internal" href="index-types.html#ndindex.BooleanArray" title="ndindex.BooleanArray"><code class="xref py py-class docutils literal notranslate"><span class="pre">BooleanArray</span></code></a>.</p>
<p>To subclass this, define the <code class="code docutils literal notranslate"><span class="pre">dtype</span></code> attribute, as well as all the usual
ndindex methods.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="ndindex.array.ArrayIndex.dtype">
<span class="sig-name descname"><span class="pre">dtype</span></span><em class="property"><span class="w"> </span><span class="pre">Subclasses</span> <span class="pre">should</span> <span class="pre">redefine</span> <span class="pre">this</span></em><a class="headerlink" href="#ndindex.array.ArrayIndex.dtype" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="ndindex.array.ArrayIndex.array">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">array</span></span><a class="headerlink" href="#ndindex.array.ArrayIndex.array" title="Link to this definition">¶</a></dt>
<dd><p>Return the NumPy array of self.</p>
<p>This is the same as <code class="code docutils literal notranslate"><span class="pre">self.args[0]</span></code>.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">ndindex</span> <span class="kn">import</span> <span class="n">IntegerArray</span><span class="p">,</span> <span class="n">BooleanArray</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">IntegerArray</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">])</span><span class="o">.</span><span class="n">array</span>
<span class="go">array([0, 1])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">BooleanArray</span><span class="p">([</span><span class="kc">False</span><span class="p">,</span> <span class="kc">True</span><span class="p">])</span><span class="o">.</span><span class="n">array</span>
<span class="go">array([False, True])</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ndindex.array.ArrayIndex.isvalid">
<span class="sig-name descname"><span class="pre">isvalid</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">shape</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">_axis</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/Quansight-Labs/ndindex/blob/f17c7a5519e33d1a1b59760b4530fcaba7d636b6/ndindex/array.py#L171-L180"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ndindex.array.ArrayIndex.isvalid" title="Link to this definition">¶</a></dt>
<dd><p>Check whether a given index is valid on an array of a given shape.</p>
<p>Returns <code class="code docutils literal notranslate"><span class="pre">True</span></code> if an array of shape <code class="code docutils literal notranslate"><span class="pre">shape</span></code> can be indexed by <code class="code docutils literal notranslate"><span class="pre">self</span></code>
and <code class="code docutils literal notranslate"><span class="pre">False</span></code> if it would raise <code class="code docutils literal notranslate"><span class="pre">IndexError</span></code>.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">ndindex</span> <span class="kn">import</span> <span class="n">ndindex</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ndindex</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span><span class="o">.</span><span class="n">isvalid</span><span class="p">((</span><span class="mi">4</span><span class="p">,))</span>
<span class="go">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ndindex</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span><span class="o">.</span><span class="n">isvalid</span><span class="p">((</span><span class="mi">2</span><span class="p">,))</span>
<span class="go">False</span>
</pre></div>
</div>
<p>Note that some indices can never be valid and will raise a
<code class="code docutils literal notranslate"><span class="pre">IndexError</span></code> or <code class="code docutils literal notranslate"><span class="pre">TypeError</span></code> if you attempt to construct them.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">ndindex</span><span class="p">((</span><span class="o">...</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="o">...</span><span class="p">))</span>
<span class="gt">Traceback (most recent call last):</span>
<span class="w">  </span><span class="c">...</span>
<span class="gr">IndexError</span>: <span class="n">an index can only have a single ellipsis (&#39;...&#39;)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ndindex</span><span class="p">(</span><span class="nb">slice</span><span class="p">(</span><span class="kc">True</span><span class="p">))</span>
<span class="gt">Traceback (most recent call last):</span>
<span class="w">  </span><span class="c">...</span>
<span class="gr">TypeError</span>: <span class="n">&#39;bool&#39; object cannot be interpreted as an integer</span>
</pre></div>
</div>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="#ndindex.ndindex.NDIndex.newshape" title="ndindex.ndindex.NDIndex.newshape"><code class="xref py py-obj docutils literal notranslate"><span class="pre">NDIndex.newshape</span></code></a></p>
</div>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="ndindex.array.ArrayIndex.ndim">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">ndim</span></span><a class="headerlink" href="#ndindex.array.ArrayIndex.ndim" title="Link to this definition">¶</a></dt>
<dd><p>Return the number of dimensions of the array of self.</p>
<p>This is the same as <code class="code docutils literal notranslate"><span class="pre">self.array.ndim</span></code>. Note that this is <strong>not</strong> the
same as the number of dimensions of an array that is indexed by
<code class="code docutils literal notranslate"><span class="pre">self</span></code>. Use <code class="code docutils literal notranslate"><span class="pre">len</span></code> on <a class="reference internal" href="#ndindex.ndindex.NDIndex.newshape" title="ndindex.ndindex.NDIndex.newshape"><code class="xref py py-meth docutils literal notranslate"><span class="pre">newshape()</span></code></a> to get that.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">ndindex</span> <span class="kn">import</span> <span class="n">IntegerArray</span><span class="p">,</span> <span class="n">BooleanArray</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">IntegerArray</span><span class="p">([[</span><span class="mi">0</span><span class="p">],</span> <span class="p">[</span><span class="mi">1</span><span class="p">]])</span><span class="o">.</span><span class="n">ndim</span>
<span class="go">2</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">BooleanArray</span><span class="p">([[</span><span class="kc">False</span><span class="p">],</span> <span class="p">[</span><span class="kc">True</span><span class="p">]])</span><span class="o">.</span><span class="n">ndim</span>
<span class="go">2</span>
</pre></div>
</div>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="ndindex.array.ArrayIndex.raw">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">raw</span></span><a class="headerlink" href="#ndindex.array.ArrayIndex.raw" title="Link to this definition">¶</a></dt>
<dd><p>Return the equivalent of <code class="code docutils literal notranslate"><span class="pre">self</span></code> that can be used as an index</p>
<p>NumPy does not allow custom objects to be used as indices, with the
exception of integer indices, so to use an ndindex object as an
index, it is necessary to use <code class="code docutils literal notranslate"><span class="pre">raw</span></code>.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">ndindex</span> <span class="kn">import</span> <span class="n">Slice</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">a</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">s</span> <span class="o">=</span> <span class="n">Slice</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">4</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">a</span><span class="p">[</span><span class="n">s</span><span class="p">]</span>
<span class="gt">Traceback (most recent call last):</span>
<span class="c">...</span>
<span class="gr">IndexError</span>: <span class="n">only integers, slices (`:`), ellipsis (`...`), numpy.newaxis (`None`) and integer or boolean arrays are valid indices</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">a</span><span class="p">[</span><span class="n">s</span><span class="o">.</span><span class="n">raw</span><span class="p">]</span>
<span class="go">array([2, 3])</span>
</pre></div>
</div>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="ndindex.array.ArrayIndex.shape">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">shape</span></span><a class="headerlink" href="#ndindex.array.ArrayIndex.shape" title="Link to this definition">¶</a></dt>
<dd><p>Return the shape of the array of self.</p>
<p>This is the same as <code class="code docutils literal notranslate"><span class="pre">self.array.shape</span></code>. Note that this is <strong>not</strong> the
same as the shape of an array that is indexed by <code class="code docutils literal notranslate"><span class="pre">self</span></code>. Use
<a class="reference internal" href="#ndindex.ndindex.NDIndex.newshape" title="ndindex.ndindex.NDIndex.newshape"><code class="xref py py-meth docutils literal notranslate"><span class="pre">newshape()</span></code></a> to get that.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">ndindex</span> <span class="kn">import</span> <span class="n">IntegerArray</span><span class="p">,</span> <span class="n">BooleanArray</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">IntegerArray</span><span class="p">([[</span><span class="mi">0</span><span class="p">],</span> <span class="p">[</span><span class="mi">1</span><span class="p">]])</span><span class="o">.</span><span class="n">shape</span>
<span class="go">(2, 1)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">BooleanArray</span><span class="p">([[</span><span class="kc">False</span><span class="p">],</span> <span class="p">[</span><span class="kc">True</span><span class="p">]])</span><span class="o">.</span><span class="n">shape</span>
<span class="go">(2, 1)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="ndindex.array.ArrayIndex.size">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">size</span></span><a class="headerlink" href="#ndindex.array.ArrayIndex.size" title="Link to this definition">¶</a></dt>
<dd><p>Return the number of elements of the array of self.</p>
<p>This is the same as <code class="code docutils literal notranslate"><span class="pre">self.array.size</span></code>. Note that this is <strong>not</strong> the
same as the number of elements of an array that is indexed by <code class="code docutils literal notranslate"><span class="pre">self</span></code>.
Use <code class="code docutils literal notranslate"><span class="pre">np.prod</span></code> on <a class="reference internal" href="#ndindex.ndindex.NDIndex.newshape" title="ndindex.ndindex.NDIndex.newshape"><code class="xref py py-meth docutils literal notranslate"><span class="pre">newshape()</span></code></a> to get that.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">ndindex</span> <span class="kn">import</span> <span class="n">IntegerArray</span><span class="p">,</span> <span class="n">BooleanArray</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">IntegerArray</span><span class="p">([[</span><span class="mi">0</span><span class="p">],</span> <span class="p">[</span><span class="mi">1</span><span class="p">]])</span><span class="o">.</span><span class="n">size</span>
<span class="go">2</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">BooleanArray</span><span class="p">([[</span><span class="kc">False</span><span class="p">],</span> <span class="p">[</span><span class="kc">True</span><span class="p">]])</span><span class="o">.</span><span class="n">size</span>
<span class="go">2</span>
</pre></div>
</div>
</dd></dl>

</dd></dl>

</section>
<section id="other-internal-functions">
<h2>Other Internal Functions<a class="headerlink" href="#other-internal-functions" title="Link to this heading">¶</a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="ndindex.slice.default">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">ndindex.slice.</span></span><span class="sig-name descname"><span class="pre">default</span></span><a class="reference external" href="https://github.com/Quansight-Labs/ndindex/blob/f17c7a5519e33d1a1b59760b4530fcaba7d636b6/ndindex/slice.py#L5-L13"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ndindex.slice.default" title="Link to this definition">¶</a></dt>
<dd><p>A default keyword argument value.</p>
<p>Used as the default value for keyword arguments where <code class="code docutils literal notranslate"><span class="pre">None</span></code> is also a
meaningful value but not the default.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="ndindex.ndindex.operator_index">
<span class="sig-prename descclassname"><span class="pre">ndindex.ndindex.</span></span><span class="sig-name descname"><span class="pre">operator_index</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">idx</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/Quansight-Labs/ndindex/blob/f17c7a5519e33d1a1b59760b4530fcaba7d636b6/ndindex/ndindex.py#L681-L714"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ndindex.ndindex.operator_index" title="Link to this definition">¶</a></dt>
<dd><p>Convert <code class="code docutils literal notranslate"><span class="pre">idx</span></code> into an integer index using <code class="code docutils literal notranslate"><span class="pre">__index__()</span></code> or raise
<code class="code docutils literal notranslate"><span class="pre">TypeError</span></code>.</p>
<p>This is the same as <code class="code docutils literal notranslate"><span class="pre">operator.index()</span></code> except it disallows boolean types.</p>
<p>This is a slight break in NumPy compatibility, as NumPy allows bools in
some contexts where <code class="code docutils literal notranslate"><span class="pre">__index__()</span></code> is used, for instance, in slices. It
does disallow it in others, such as in shapes. The main motivation for
disallowing bools entirely is 1) <code class="code docutils literal notranslate"><span class="pre">numpy.bool_.__index__()</span></code> is deprecated
(currently it matches the built-in <code class="code docutils literal notranslate"><span class="pre">bool.__index__()</span></code> and returns the
object unchanged, but prints a deprecation warning), and 2) for raw
indices, booleans and <code class="code docutils literal notranslate"><span class="pre">0</span></code>/<code class="code docutils literal notranslate"><span class="pre">1</span></code> are completely different, i.e., <code class="code docutils literal notranslate"><span class="pre">a[True]</span></code> is
<em>not</em> the same as <code class="code docutils literal notranslate"><span class="pre">a[1]</span></code>.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">ndindex.ndindex</span> <span class="kn">import</span> <span class="n">operator_index</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">operator_index</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
<span class="go">1</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">operator_index</span><span class="p">(</span><span class="mf">1.0</span><span class="p">)</span>
<span class="gt">Traceback (most recent call last):</span>
<span class="c">...</span>
<span class="gr">TypeError</span>: <span class="n">&#39;float&#39; object cannot be interpreted as an integer</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">operator_index</span><span class="p">(</span><span class="kc">True</span><span class="p">)</span>
<span class="gt">Traceback (most recent call last):</span>
<span class="c">...</span>
<span class="gr">TypeError</span>: <span class="n">&#39;bool&#39; object cannot be interpreted as an integer</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="ndindex.shapetools.asshape">
<span class="sig-prename descclassname"><span class="pre">ndindex.shapetools.</span></span><span class="sig-name descname"><span class="pre">asshape</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">shape</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">axis</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">allow_int</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">allow_negative</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/Quansight-Labs/ndindex/blob/f17c7a5519e33d1a1b59760b4530fcaba7d636b6/ndindex/shapetools.py#L275-L331"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ndindex.shapetools.asshape" title="Link to this definition">¶</a></dt>
<dd><p>Cast <code class="code docutils literal notranslate"><span class="pre">shape</span></code> as a valid NumPy shape.</p>
<p>The input can be an integer <code class="code docutils literal notranslate"><span class="pre">n</span></code> (if <code class="code docutils literal notranslate"><span class="pre">allow_int=True</span></code>), which is equivalent
to <code class="code docutils literal notranslate"><span class="pre">(n,)</span></code>, or a tuple of integers.</p>
<p>If the <code class="code docutils literal notranslate"><span class="pre">axis</span></code> argument is provided, an <code class="code docutils literal notranslate"><span class="pre">IndexError</span></code> is raised if it is out
of bounds for the shape.</p>
<p>The resulting shape is always a tuple of nonnegative integers. If
<code class="code docutils literal notranslate"><span class="pre">allow_negative=True</span></code>, negative integers are also allowed.</p>
<p>All ndindex functions that take a shape input should use:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">shape</span> <span class="o">=</span> <span class="n">asshape</span><span class="p">(</span><span class="n">shape</span><span class="p">)</span>
</pre></div>
</div>
<p>or:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">shape</span> <span class="o">=</span> <span class="n">asshape</span><span class="p">(</span><span class="n">shape</span><span class="p">,</span> <span class="n">axis</span><span class="o">=</span><span class="n">axis</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="ndindex.shapetools.ncycles">
<span class="sig-prename descclassname"><span class="pre">ndindex.shapetools.</span></span><span class="sig-name descname"><span class="pre">ncycles</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">iterable</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">n</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/Quansight-Labs/ndindex/blob/f17c7a5519e33d1a1b59760b4530fcaba7d636b6/ndindex/shapetools.py#L406-L443"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ndindex.shapetools.ncycles" title="Link to this definition">¶</a></dt>
<dd><p>Iterate <code class="code docutils literal notranslate"><span class="pre">iterable</span></code> repeated <code class="code docutils literal notranslate"><span class="pre">n</span></code> times.</p>
<p>This is based on a recipe from the <a class="reference external" href="https://docs.python.org/3/library/itertools.html#itertools-recipes">Python itertools docs</a>,
but improved to give a repr, and to denest when it can. This makes
debugging <a class="reference internal" href="shapetools.html#ndindex.iter_indices" title="ndindex.iter_indices"><code class="xref py py-func docutils literal notranslate"><span class="pre">iter_indices()</span></code></a> easier.</p>
<p>This is only intended for internal usage.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">ndindex.shapetools</span> <span class="kn">import</span> <span class="n">ncycles</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ncycles</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="mi">3</span><span class="p">),</span> <span class="mi">2</span><span class="p">)</span>
<span class="go">ncycles(range(0, 3), 2)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">list</span><span class="p">(</span><span class="n">_</span><span class="p">)</span>
<span class="go">[0, 1, 2, 0, 1, 2]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ncycles</span><span class="p">(</span><span class="n">ncycles</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="mi">3</span><span class="p">),</span> <span class="mi">3</span><span class="p">),</span> <span class="mi">2</span><span class="p">)</span>
<span class="go">ncycles(range(0, 3), 6)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="ndindex.shapetools.associated_axis">
<span class="sig-prename descclassname"><span class="pre">ndindex.shapetools.</span></span><span class="sig-name descname"><span class="pre">associated_axis</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">broadcasted_shape</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">i</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">skip_axes</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/Quansight-Labs/ndindex/blob/f17c7a5519e33d1a1b59760b4530fcaba7d636b6/ndindex/shapetools.py#L333-L357"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ndindex.shapetools.associated_axis" title="Link to this definition">¶</a></dt>
<dd><p>Return the associated element of <code class="code docutils literal notranslate"><span class="pre">broadcasted_shape</span></code> corresponding to
<code class="code docutils literal notranslate"><span class="pre">shape[i]</span></code> given <code class="code docutils literal notranslate"><span class="pre">skip_axes</span></code>. If there is not such element (i.e., it’s out
of bounds), returns None.</p>
<p>This function makes implicit assumptions about its input and is only
designed for internal use.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="ndindex.shapetools.remove_indices">
<span class="sig-prename descclassname"><span class="pre">ndindex.shapetools.</span></span><span class="sig-name descname"><span class="pre">remove_indices</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">x</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">idxes</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/Quansight-Labs/ndindex/blob/f17c7a5519e33d1a1b59760b4530fcaba7d636b6/ndindex/shapetools.py#L359-L373"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ndindex.shapetools.remove_indices" title="Link to this definition">¶</a></dt>
<dd><p>Return <code class="code docutils literal notranslate"><span class="pre">x</span></code> with the indices <code class="code docutils literal notranslate"><span class="pre">idxes</span></code> removed.</p>
<p>This function is only intended for internal usage.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="ndindex.shapetools.unremove_indices">
<span class="sig-prename descclassname"><span class="pre">ndindex.shapetools.</span></span><span class="sig-name descname"><span class="pre">unremove_indices</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">x</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">idxes</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">val</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/Quansight-Labs/ndindex/blob/f17c7a5519e33d1a1b59760b4530fcaba7d636b6/ndindex/shapetools.py#L375-L404"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ndindex.shapetools.unremove_indices" title="Link to this definition">¶</a></dt>
<dd><p>Insert <code class="code docutils literal notranslate"><span class="pre">val</span></code> in <code class="code docutils literal notranslate"><span class="pre">x</span></code> so that it appears at <code class="code docutils literal notranslate"><span class="pre">idxes</span></code>.</p>
<p>Note that idxes must be either all negative or all nonnegative.</p>
<p>This function is only intended for internal usage.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="ndindex.shapetools.normalize_skip_axes">
<span class="sig-prename descclassname"><span class="pre">ndindex.shapetools.</span></span><span class="sig-name descname"><span class="pre">normalize_skip_axes</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">shapes</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">skip_axes</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/Quansight-Labs/ndindex/blob/f17c7a5519e33d1a1b59760b4530fcaba7d636b6/ndindex/shapetools.py#L445-L494"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ndindex.shapetools.normalize_skip_axes" title="Link to this definition">¶</a></dt>
<dd><p>Return a canonical form of <code class="code docutils literal notranslate"><span class="pre">skip_axes</span></code> corresponding to <code class="code docutils literal notranslate"><span class="pre">shapes</span></code>.</p>
<p>A canonical form of <code class="code docutils literal notranslate"><span class="pre">skip_axes</span></code> is a list of tuples of integers, one for
each shape in <code class="code docutils literal notranslate"><span class="pre">shapes</span></code>, which are a unique set of axes for each
corresponding shape.</p>
<p>If <code class="code docutils literal notranslate"><span class="pre">skip_axes</span></code> is an integer, this is basically <code class="code docutils literal notranslate"><span class="pre">[(skip_axes,)</span> <span class="pre">for</span> <span class="pre">s</span>
<span class="pre">in</span> <span class="pre">shapes]</span></code>. If <code class="code docutils literal notranslate"><span class="pre">skip_axes</span></code> is a tuple, it is like <code class="code docutils literal notranslate"><span class="pre">[skip_axes</span> <span class="pre">for</span> <span class="pre">s</span> <span class="pre">in</span>
<span class="pre">shapes]</span></code>.</p>
<p>The <code class="code docutils literal notranslate"><span class="pre">skip_axes</span></code> must always refer to unique axes in each shape.</p>
<p>The returned <code class="code docutils literal notranslate"><span class="pre">skip_axes</span></code> will always be negative integers and will be
sorted.</p>
<p>This function is only intended for internal usage.</p>
</dd></dl>

</section>
</section>

        </article>
      </div>
      <footer>
        
        <div class="related-pages">
          <a class="next-page" href="../indexing-guide/index.html">
              <div class="page-info">
                <div class="context">
                  <span>Next</span>
                </div>
                <div class="title">Guide to NumPy Indexing</div>
              </div>
              <svg class="furo-related-icon"><use href="#svg-arrow-right"></use></svg>
            </a>
          <a class="prev-page" href="chunking.html">
              <svg class="furo-related-icon"><use href="#svg-arrow-right"></use></svg>
              <div class="page-info">
                <div class="context">
                  <span>Previous</span>
                </div>
                
                <div class="title">Chunking</div>
                
              </div>
            </a>
        </div>
        <div class="bottom-of-page">
          <div class="left-details">
            <div class="copyright">
                Copyright &#169; 2020, Quansight Labs
            </div>
            Made with <a href="https://www.sphinx-doc.org/">Sphinx</a> and <a class="muted-link" href="https://pradyunsg.me">@pradyunsg</a>'s
            
            <a href="https://github.com/pradyunsg/furo">Furo</a>
            
          </div>
          <div class="right-details">
            <div class="icons">
              <a class="muted-link " href="https://github.com/Quansight-Labs/ndindex" aria-label="GitHub">
                <svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 16 16">
                    <path fill-rule="evenodd" d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.013 8.013 0 0 0 16 8c0-4.42-3.58-8-8-8z"></path>
                </svg>
            </a>
              
            </div>
          </div>
        </div>
        
      </footer>
    </div>
    <aside class="toc-drawer">
      
      
      <div class="toc-sticky toc-scroll">
        <div class="toc-title-container">
          <span class="toc-title">
            On this page
          </span>
        </div>
        <div class="toc-tree-container">
          <div class="toc-tree">
            <ul>
<li><a class="reference internal" href="#">Internal API</a><ul>
<li><a class="reference internal" href="#base-classes">Base Classes</a><ul>
<li><a class="reference internal" href="#ndindex.ndindex.ImmutableObject"><code class="docutils literal notranslate"><span class="pre">ImmutableObject</span></code></a><ul>
<li><a class="reference internal" href="#ndindex.ndindex.ImmutableObject.args"><code class="docutils literal notranslate"><span class="pre">ImmutableObject.args</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#ndindex.ndindex.NDIndex"><code class="docutils literal notranslate"><span class="pre">NDIndex</span></code></a><ul>
<li><a class="reference internal" href="#ndindex.ndindex.NDIndex.as_subindex"><code class="docutils literal notranslate"><span class="pre">NDIndex.as_subindex()</span></code></a></li>
<li><a class="reference internal" href="#ndindex.ndindex.NDIndex.broadcast_arrays"><code class="docutils literal notranslate"><span class="pre">NDIndex.broadcast_arrays()</span></code></a></li>
<li><a class="reference internal" href="#ndindex.ndindex.NDIndex.expand"><code class="docutils literal notranslate"><span class="pre">NDIndex.expand()</span></code></a></li>
<li><a class="reference internal" href="#ndindex.ndindex.NDIndex.isempty"><code class="docutils literal notranslate"><span class="pre">NDIndex.isempty()</span></code></a></li>
<li><a class="reference internal" href="#ndindex.ndindex.NDIndex.isvalid"><code class="docutils literal notranslate"><span class="pre">NDIndex.isvalid()</span></code></a></li>
<li><a class="reference internal" href="#ndindex.ndindex.NDIndex.newshape"><code class="docutils literal notranslate"><span class="pre">NDIndex.newshape()</span></code></a></li>
<li><a class="reference internal" href="#ndindex.ndindex.NDIndex.raw"><code class="docutils literal notranslate"><span class="pre">NDIndex.raw</span></code></a></li>
<li><a class="reference internal" href="#ndindex.ndindex.NDIndex.reduce"><code class="docutils literal notranslate"><span class="pre">NDIndex.reduce()</span></code></a></li>
<li><a class="reference internal" href="#ndindex.ndindex.NDIndex.selected_indices"><code class="docutils literal notranslate"><span class="pre">NDIndex.selected_indices()</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#ndindex.array.ArrayIndex"><code class="docutils literal notranslate"><span class="pre">ArrayIndex</span></code></a><ul>
<li><a class="reference internal" href="#ndindex.array.ArrayIndex.dtype"><code class="docutils literal notranslate"><span class="pre">ArrayIndex.dtype</span></code></a></li>
<li><a class="reference internal" href="#ndindex.array.ArrayIndex.array"><code class="docutils literal notranslate"><span class="pre">ArrayIndex.array</span></code></a></li>
<li><a class="reference internal" href="#ndindex.array.ArrayIndex.isvalid"><code class="docutils literal notranslate"><span class="pre">ArrayIndex.isvalid()</span></code></a></li>
<li><a class="reference internal" href="#ndindex.array.ArrayIndex.ndim"><code class="docutils literal notranslate"><span class="pre">ArrayIndex.ndim</span></code></a></li>
<li><a class="reference internal" href="#ndindex.array.ArrayIndex.raw"><code class="docutils literal notranslate"><span class="pre">ArrayIndex.raw</span></code></a></li>
<li><a class="reference internal" href="#ndindex.array.ArrayIndex.shape"><code class="docutils literal notranslate"><span class="pre">ArrayIndex.shape</span></code></a></li>
<li><a class="reference internal" href="#ndindex.array.ArrayIndex.size"><code class="docutils literal notranslate"><span class="pre">ArrayIndex.size</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li><a class="reference internal" href="#other-internal-functions">Other Internal Functions</a><ul>
<li><a class="reference internal" href="#ndindex.slice.default"><code class="docutils literal notranslate"><span class="pre">default</span></code></a></li>
<li><a class="reference internal" href="#ndindex.ndindex.operator_index"><code class="docutils literal notranslate"><span class="pre">operator_index()</span></code></a></li>
<li><a class="reference internal" href="#ndindex.shapetools.asshape"><code class="docutils literal notranslate"><span class="pre">asshape()</span></code></a></li>
<li><a class="reference internal" href="#ndindex.shapetools.ncycles"><code class="docutils literal notranslate"><span class="pre">ncycles()</span></code></a></li>
<li><a class="reference internal" href="#ndindex.shapetools.associated_axis"><code class="docutils literal notranslate"><span class="pre">associated_axis()</span></code></a></li>
<li><a class="reference internal" href="#ndindex.shapetools.remove_indices"><code class="docutils literal notranslate"><span class="pre">remove_indices()</span></code></a></li>
<li><a class="reference internal" href="#ndindex.shapetools.unremove_indices"><code class="docutils literal notranslate"><span class="pre">unremove_indices()</span></code></a></li>
<li><a class="reference internal" href="#ndindex.shapetools.normalize_skip_axes"><code class="docutils literal notranslate"><span class="pre">normalize_skip_axes()</span></code></a></li>
</ul>
</li>
</ul>
</li>
</ul>

          </div>
        </div>
      </div>
      
      
    </aside>
  </div>
</div><script src="../_static/documentation_options.js?v=5929fcd5"></script>
    <script src="../_static/doctools.js?v=9a2dae69"></script>
    <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../_static/scripts/furo.js?v=4e2eecee"></script>
    <script src="../_static/clipboard.min.js?v=a7894cd8"></script>
    <script src="../_static/copybutton.js?v=f281be69"></script>
    <script src="../_static/design-tabs.js?v=f930bc37"></script>
    </body>
</html>