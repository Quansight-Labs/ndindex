
<!DOCTYPE html>

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.19: https://docutils.sourceforge.io/" />

    <title>ndindex Changelog &#8212; ndindex  documentation</title>
    <link rel="stylesheet" type="text/css" href="_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="_static/alabaster.css" />
    <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
    <script src="_static/jquery.js"></script>
    <script src="_static/underscore.js"></script>
    <script src="_static/_sphinx_javascript_frameworks_compat.js"></script>
    <script src="_static/doctools.js"></script>
    <script src="_static/sphinx_highlight.js"></script>
    <link rel="shortcut icon" href="_static/favicon.ico"/>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Documentation Style Guide" href="style-guide.html" />
    <link rel="prev" title="Type Confusion" href="type-confusion.html" />
 
   
  <link rel="stylesheet" href="_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

    <script type="text/javascript" src="_static/copybutton.js"></script>
 
  </head><body>
  <div class="document">
    
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">

<p class="logo">
  <a href="index.html">
    <img class="logo" src="_static/ndindex_logo_white_bg.svg" alt="Logo"/>
    
  </a>
</p>


<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="api.html">API Reference</a></li>
<li class="toctree-l1"><a class="reference internal" href="slices.html">Slices</a></li>
<li class="toctree-l1"><a class="reference internal" href="type-confusion.html">Type Confusion</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">ndindex Changelog</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#version-1-6-2022-01-24">Version 1.6 (2022-01-24)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#major-changes">Major Changes</a></li>
<li class="toctree-l3"><a class="reference internal" href="#minor-changes">Minor Changes</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#version-1-5-2-2021-04-06">Version 1.5.2 (2021-04-06)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id1">Major Changes</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id2">Minor Changes</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#version-1-5-1-2021-02-03">Version 1.5.1 (2021-02-03)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id3">Major Changes</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#version-1-5-2020-12-23">Version 1.5 (2020-12-23)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id4">Major Changes</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id5">Minor Changes</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#version-1-4-2020-09-14">Version 1.4 (2020-09-14)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id6">Major Changes</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id7">Minor Changes</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#version-1-3-1-2020-07-22">Version 1.3.1 (2020-07-22)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id8">Major Changes</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id9">Minor Changes</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#version-1-3-2020-06-29">Version 1.3 (2020-06-29)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id10">Major Changes</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id11">Minor Changes</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#version-1-2-2020-05-01">Version 1.2 (2020-05-01)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id12">Major Changes</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id13">Minor Changes</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#version-1-1-2020-04-23">Version 1.1 (2020-04-23)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id14">Major Changes</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id15">Minor Changes</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#version-1-0-2020-04-08">Version 1.0 (2020-04-08)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id16">Major Changes</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="style-guide.html">Documentation Style Guide</a></li>
</ul>

<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>document.getElementById('searchbox').style.display = "block"</script>
        </div>
      </div>
      <div class="documentwrapper">
        <div class="bodywrapper">
              <div class="related top">
                &nbsp;
  <nav id="rellinks">
    <ul>
        <li>
          &larr;
          <a href="type-confusion.html" title="Previous document">Type Confusion</a>
        </li>
        <li>
          <a href="style-guide.html" title="Next document">Documentation Style Guide</a>
          &rarr;
        </li>
    </ul>
  </nav>
              </div>
          

          <div class="body" role="main">
            
  <section id="ndindex-changelog">
<h1>ndindex Changelog<a class="headerlink" href="#ndindex-changelog" title="Permalink to this heading">¶</a></h1>
<section id="version-1-6-2022-01-24">
<h2>Version 1.6 (2022-01-24)<a class="headerlink" href="#version-1-6-2022-01-24" title="Permalink to this heading">¶</a></h2>
<section id="major-changes">
<h3>Major Changes<a class="headerlink" href="#major-changes" title="Permalink to this heading">¶</a></h3>
<ul class="simple">
<li><p>SymPy is no longer a dependency of ndindex.</p></li>
<li><p>NumPy is now an optional dependency of ndindex. It is only required when
constructing array indices <a class="reference internal" href="api.html#ndindex.BooleanArray" title="ndindex.BooleanArray"><code class="xref py py-class docutils literal notranslate"><span class="pre">BooleanArray</span></code></a> or
<a class="reference internal" href="api.html#ndindex.IntegerArray" title="ndindex.IntegerArray"><code class="xref py py-class docutils literal notranslate"><span class="pre">IntegerArray</span></code></a>. This does not change the semantics of ndindex.
ndindex objects still match NumPy indexing semantics everywhere. Note that
NumPy is still a hard requirement for all tests in the ndindex test suite.</p></li>
<li><p>Added a new function <a class="reference internal" href="api.html#ndindex.iter_indices" title="ndindex.iter_indices"><code class="xref any py py-func docutils literal notranslate"><span class="pre">iter_indices</span></code></a> which is a generalization of the
<code class="docutils literal notranslate"><span class="pre">np.ndindex()</span></code> function (which is otherwise unrelated) to allow multiple
broadcast compatible shapes, and to allow skipping axes.</p></li>
<li><p>Added a new method <a class="reference internal" href="api.html#ndindex.ChunkSize.containing_block" title="ndindex.ChunkSize.containing_block"><code class="xref any py py-meth docutils literal notranslate"><span class="pre">ChunkSize.containing_block</span></code></a>, which computes the
smallest continuous block of chunks containing a given index.</p></li>
<li><p>ndindex can now be installed with optional Cythonization support. This is
still experimental and is only enabled when installing ndindex from source
when Cython is installed (see <a class="reference internal" href="index.html#installation"><span class="std std-ref">the installation
instructions</span></a>). This improves the general performance of
ndindex.</p></li>
</ul>
</section>
<section id="minor-changes">
<h3>Minor Changes<a class="headerlink" href="#minor-changes" title="Permalink to this heading">¶</a></h3>
<ul class="simple">
<li><p>Fix an issue with the <a class="reference internal" href="api.html#ndindex.Tuple" title="ndindex.Tuple"><code class="xref py py-class docutils literal notranslate"><span class="pre">Tuple</span></code></a> constructor with broadcast incompatible
arrays with the latest version of NumPy.</p></li>
<li><p>Small performance improvement to <a class="reference internal" href="api.html#ndindex.Tuple.reduce" title="ndindex.Tuple.reduce"><code class="xref any py py-meth docutils literal notranslate"><span class="pre">Tuple.reduce</span></code></a>.</p></li>
<li><p>Add better support for boolean scalar indices in various
<a class="reference internal" href="api.html#ndindex.ChunkSize" title="ndindex.ChunkSize"><code class="xref py py-class docutils literal notranslate"><span class="pre">ChunkSize</span></code></a> methods.</p></li>
<li><p>Better <code class="docutils literal notranslate"><span class="pre">NotImplementedError</span></code> messages from <a class="reference internal" href="api.html#ndindex.ChunkSize" title="ndindex.ChunkSize"><code class="xref py py-class docutils literal notranslate"><span class="pre">ChunkSize</span></code></a> methods.</p></li>
<li><p>Switch from Travis CI to GitHub Actions.</p></li>
<li><p>Update CI to test Python 3.10.</p></li>
<li><p>Remove Codecov from CI.</p></li>
<li><p>The docs now have a cleaner sidebar which always stays fixed on screen.</p></li>
</ul>
</section>
</section>
<section id="version-1-5-2-2021-04-06">
<h2>Version 1.5.2 (2021-04-06)<a class="headerlink" href="#version-1-5-2-2021-04-06" title="Permalink to this heading">¶</a></h2>
<section id="id1">
<h3>Major Changes<a class="headerlink" href="#id1" title="Permalink to this heading">¶</a></h3>
<ul class="simple">
<li><p>ndindex now has a logo: <img alt="ndindex logo" src="_images/ndindex_logo_white_bg.svg" />
Thanks to <a class="reference external" href="mailto:ifumarel&#37;&#52;&#48;quansight&#46;com">Irina Fumarel</a> for the logo design.</p></li>
<li><p>Improve <a class="reference internal" href="api.html#ndindex.ChunkSize.as_subchunks" title="ndindex.ChunkSize.as_subchunks"><code class="xref any py py-meth docutils literal notranslate"><span class="pre">ChunkSize.as_subchunks()</span></code></a> to never use the slow fallback
method. This in particular improves the performance for array indices.</p></li>
<li><p>Add a new function <a class="reference internal" href="api.html#ndindex.ChunkSize.num_subchunks" title="ndindex.ChunkSize.num_subchunks"><code class="xref any py py-meth docutils literal notranslate"><span class="pre">ChunkSize.num_subchunks()</span></code></a>. This is a more efficient
way of computing <code class="docutils literal notranslate"><span class="pre">len(list(chunk_size.as_subindex(idx,</span> <span class="pre">shape)))</span></code>.</p></li>
</ul>
</section>
<section id="id2">
<h3>Minor Changes<a class="headerlink" href="#id2" title="Permalink to this heading">¶</a></h3>
<ul class="simple">
<li><p>Added
<a class="reference external" href="https://github.com/Quansight-Labs/ndindex/blob/master/CODE_OF_CONDUCT.md">CODE_OF_CONDUCT.md</a>
to the ndindex repository. ndindex follows the <a class="reference external" href="https://github.com/Quansight/.github/blob/master/CODE_OF_CONDUCT.md">Quansight Code of
Conduct</a>.</p></li>
<li><p>Avoid precomputing all iterated values for slices with large steps in
<a class="reference internal" href="api.html#ndindex.ChunkSize.as_subchunks" title="ndindex.ChunkSize.as_subchunks"><code class="xref any py py-meth docutils literal notranslate"><span class="pre">ChunkSize.as_subchunks()</span></code></a>.</p></li>
<li><p>Improve the performance of <a class="reference internal" href="api.html#ndindex.Slice.__len__" title="ndindex.Slice.__len__"><code class="xref any py py-meth docutils literal notranslate"><span class="pre">Slice.__len__()</span></code></a> for slices that
are already reduced.</p></li>
<li><p>Some minor general performance improvements from moving imports outside of
functions and adding <code class="docutils literal notranslate"><span class="pre">__slots__</span></code> to all classes.</p></li>
<li><p>Add an <a class="reference internal" href="index.html#acknowledgments"><span class="std std-ref">acknowledgments section</span></a> to the README and docs.</p></li>
</ul>
</section>
</section>
<section id="version-1-5-1-2021-02-03">
<h2>Version 1.5.1 (2021-02-03)<a class="headerlink" href="#version-1-5-1-2021-02-03" title="Permalink to this heading">¶</a></h2>
<section id="id3">
<h3>Major Changes<a class="headerlink" href="#id3" title="Permalink to this heading">¶</a></h3>
<ul class="simple">
<li><p>The <a class="reference internal" href="api.html#ndindex.ChunkSize.as_subchunks" title="ndindex.ChunkSize.as_subchunks"><span class="xref myst py py-meth"><code class="docutils literal notranslate"><span class="pre">ChunkSize.as_subchunks</span></code></span></a> method now only
iterates the chunk indices. Previously it iterated <code class="docutils literal notranslate"><span class="pre">(c,</span> <span class="pre">index.as_subindex(c))</span></code>. But the subindex can always be computed manually
(there was nothing more efficient about the way it was computed previously),
and this is much slower if the subindex is not actually needed. This is a
backwards incompatible change, but since the <code class="docutils literal notranslate"><span class="pre">ChunkSize</span></code> object was only
introduced in the previous release, it should hopefully not have a major
impact.</p></li>
<li><p>Made improvements to performance throughout the library. The improvements in
some instances are drastic.</p></li>
<li><p>Added a benchmarking suite using <a class="reference external" href="https://asv.readthedocs.io/en/stable/">airspeed
velocity</a>. Graphs of the benchmarks
can be viewed at <a class="reference external" href="https://quansight-labs.github.io/ndindex/benchmarks/">https://quansight-labs.github.io/ndindex/benchmarks/</a>.</p></li>
</ul>
</section>
</section>
<section id="version-1-5-2020-12-23">
<h2>Version 1.5 (2020-12-23)<a class="headerlink" href="#version-1-5-2020-12-23" title="Permalink to this heading">¶</a></h2>
<section id="id4">
<h3>Major Changes<a class="headerlink" href="#id4" title="Permalink to this heading">¶</a></h3>
<ul class="simple">
<li><p>ndindex has been moved to the
<a class="reference external" href="https://github.com/quansight-labs">Quansight-Labs</a> organization on Github.
ndindex is now a <a class="reference external" href="https://labs.quansight.org/">Quansight Labs</a> project.</p></li>
<li><p>Python 3.6 support has been dropped. ndindex has been tested with Python
3.7-3.9.</p></li>
<li><p><a class="reference internal" href="api.html#ndindex.Slice.reduce" title="ndindex.Slice.reduce"><span class="xref myst py py-meth"><code class="docutils literal notranslate"><span class="pre">Slice.reduce()</span></code></span></a> now gives a fully canonical result, meaning
that two slices <code class="docutils literal notranslate"><span class="pre">s1</span></code> and <code class="docutils literal notranslate"><span class="pre">s2</span></code> are equal on all array shapes if and only if
<code class="docutils literal notranslate"><span class="pre">s1.reduce()</span> <span class="pre">==</span> <span class="pre">s2.reduce()</span></code>, and are equal on an array of shape <code class="docutils literal notranslate"><span class="pre">shape</span></code> if
and only if <code class="docutils literal notranslate"><span class="pre">s1.reduce(shape)</span> <span class="pre">==</span> <span class="pre">s2.reduce(shape)</span></code> (note that <code class="docutils literal notranslate"><span class="pre">s1</span> <span class="pre">==</span> <span class="pre">s2</span></code>
is only True if <code class="docutils literal notranslate"><span class="pre">s1</span></code> and <code class="docutils literal notranslate"><span class="pre">s2</span></code> are exactly equal). See the
<a class="reference internal" href="api.html#ndindex.Slice.reduce" title="ndindex.Slice.reduce"><span class="xref myst py py-meth">documentation</span></a> for more information on what properties are
true after canonicalization.</p></li>
<li><p>Make <code class="docutils literal notranslate"><span class="pre">np.ndarray</span> <span class="pre">==</span> <span class="pre">ndindex(array)</span></code> give <code class="docutils literal notranslate"><span class="pre">True</span></code> or <code class="docutils literal notranslate"><span class="pre">False</span></code> (&#64;telamonian).</p></li>
<li><p>Add <a class="reference internal" href="api.html#ndindex.ChunkSize" title="ndindex.ChunkSize"><code class="xref py py-class docutils literal notranslate"><span class="pre">ChunkSize</span></code></a>, a new object to represent chunking over an array
and manipulate indices over chunks.</p></li>
</ul>
</section>
<section id="id5">
<h3>Minor Changes<a class="headerlink" href="#id5" title="Permalink to this heading">¶</a></h3>
<ul class="simple">
<li><p>Various performance improvements.</p></li>
<li><p>Make <code class="docutils literal notranslate"><span class="pre">hash(idx)</span> <span class="pre">==</span> <span class="pre">hash(idx.raw)</span></code> whenever <code class="docutils literal notranslate"><span class="pre">idx.raw</span></code> is hashable.</p></li>
<li><p>Fix the background color for some monospace text in the docs.</p></li>
<li><p>Fix math formatting in the slices documentation.</p></li>
</ul>
</section>
</section>
<section id="version-1-4-2020-09-14">
<h2>Version 1.4 (2020-09-14)<a class="headerlink" href="#version-1-4-2020-09-14" title="Permalink to this heading">¶</a></h2>
<section id="id6">
<h3>Major Changes<a class="headerlink" href="#id6" title="Permalink to this heading">¶</a></h3>
<ul class="simple">
<li><p>New object <a class="reference internal" href="api.html#ndindex.Newaxis" title="ndindex.Newaxis"><code class="xref py py-class docutils literal notranslate"><span class="pre">Newaxis</span></code></a> to represent <code class="docutils literal notranslate"><span class="pre">np.newaxis</span></code> (i.e., <code class="docutils literal notranslate"><span class="pre">None</span></code>).</p></li>
<li><p>New object <a class="reference internal" href="api.html#ndindex.BooleanArray" title="ndindex.BooleanArray"><code class="xref py py-class docutils literal notranslate"><span class="pre">BooleanArray</span></code></a> to represent boolean array indices (i.e.,
masks).</p></li>
<li><p>New object <a class="reference internal" href="api.html#ndindex.IntegerArray" title="ndindex.IntegerArray"><code class="xref py py-class docutils literal notranslate"><span class="pre">IntegerArray</span></code></a> to represent integer array indices (i.e.,
fancy indexing).</p></li>
</ul>
<p>With these three new objects, ndindex can now represent all valid NumPy index
types. However, note that two corner cases with tuples of arrays are not
implemented:</p>
<ul class="simple">
<li><p>separating arrays by slices, ellipsis, or newaxis (e.g., <code class="docutils literal notranslate"><span class="pre">a[[0],</span> <span class="pre">:,</span> <span class="pre">[0]]</span></code>)</p></li>
<li><p>mixing boolean scalars (<code class="docutils literal notranslate"><span class="pre">True</span></code> or <code class="docutils literal notranslate"><span class="pre">False</span></code>) with other non-boolean scalar
arrays (e.g., <code class="docutils literal notranslate"><span class="pre">a[True,</span> <span class="pre">[0]]</span></code>)</p></li>
</ul>
<p>The first case in particular may not ever be implemented, as it is considered
to be a mistake that it is allowed in the first place in the NumPy, so if you
need it, please <a class="reference external" href="https://github.com/Quansight-Labs/ndindex/issues">let me know</a>.</p>
<p>Additionally, some corner cases of array semantics are either deprecated or
fixed as bugs in newer versions of NumPy, with some only being fixed in the
unreleased NumPy 1.20. ndindex follows the NumPy 1.20 behavior, and whenever
something is deprecated, ndindex follows the post-deprecation semantics. For
example, in some cases in NumPy, using a list as an index results in it being
interpreted as a tuple and a deprecation warning raised. ndindex always treats
lists as arrays. As another example, there are some cases involving integer
array indices where NumPy does not check bounds but raises a deprecation
warning, and in these cases ndindex does check bounds (when relevant, e.g., in
<a class="reference internal" href="api.html#ndindex.Tuple.reduce" title="ndindex.Tuple.reduce"><span class="xref myst py py-meth"><code class="docutils literal notranslate"><span class="pre">idx.reduce(shape)</span></code></span></a>). ndindex should work just fine with older
versions of NumPy, but at least 1.20 (the development version) is required to
run the ndindex test suite due to the way ndindex tests itself against NumPy.</p>
<ul class="simple">
<li><p>New method <a class="reference internal" href="api.html#ndindex.ndindex.NDIndex.broadcast_arrays" title="ndindex.ndindex.NDIndex.broadcast_arrays"><span class="xref myst py py-meth"><code class="docutils literal notranslate"><span class="pre">broadcast_arrays()</span></code></span></a>. This will
convert all boolean arrays into the equivalent integer arrays and broadcast
all arrays in a <code class="docutils literal notranslate"><span class="pre">Tuple</span></code> together so that they have the same shape.
<code class="docutils literal notranslate"><span class="pre">idx.broadcast_arrays()</span></code> is equivalent to <code class="docutils literal notranslate"><span class="pre">idx</span></code> in all cases where <code class="docutils literal notranslate"><span class="pre">idx</span></code>
does not give <code class="docutils literal notranslate"><span class="pre">IndexError</span></code>. Note that broadcastability itself is checked in
the <code class="docutils literal notranslate"><span class="pre">Tuple</span></code> constructor, so if you only wish to check if an index is valid,
it is not necessary to call <code class="docutils literal notranslate"><span class="pre">broadcast_arrays()</span></code>.</p></li>
<li><p><a class="reference internal" href="api.html#ndindex.ndindex.NDIndex.expand" title="ndindex.ndindex.NDIndex.expand"><span class="xref myst py py-meth"><code class="docutils literal notranslate"><span class="pre">expand()</span></code></span></a> now broadcasts all array inputs (same as
<code class="docutils literal notranslate"><span class="pre">broadcast_arrays()</span></code>), and combines multiple scalar booleans.</p></li>
<li><p><a class="reference internal" href="api.html#ndindex.Tuple.reduce" title="ndindex.Tuple.reduce"><span class="xref myst py py-meth"><code class="docutils literal notranslate"><span class="pre">Tuple.reduce()</span></code></span></a> now combines multiple scalar booleans.</p></li>
<li><p><a class="reference internal" href="api.html#ndindex.ndindex.NDIndex.as_subindex" title="ndindex.ndindex.NDIndex.as_subindex"><span class="xref myst py py-meth"><code class="docutils literal notranslate"><span class="pre">as_subindex()</span></code></span></a> now supports many cases involving
<code class="docutils literal notranslate"><span class="pre">BooleanArray</span></code> and <code class="docutils literal notranslate"><span class="pre">IntegerArray</span></code>. There are still many instances where
<code class="docutils literal notranslate"><span class="pre">as_subindex()</span></code> raises <code class="docutils literal notranslate"><span class="pre">NotImplementedError</span></code> however. If you need support
for these, please <a class="reference external" href="https://github.com/Quansight-Labs/ndindex/issues">open an
issue</a> to let me know.</p></li>
<li><p>Add a new document to the documentation on <a class="reference internal" href="type-confusion.html"><span class="doc std std-doc">type confusion</span></a>.
The document stresses that ndindex types should not be confused with the
built-in/NumPy types that they wrap, and outlines some pitfalls and best
practices to avoid them when using ndindex.</p></li>
</ul>
</section>
<section id="id7">
<h3>Minor Changes<a class="headerlink" href="#id7" title="Permalink to this heading">¶</a></h3>
<ul class="simple">
<li><p>There is now only one docstring for <a class="reference internal" href="api.html#ndindex.ndindex.NDIndex.expand" title="ndindex.ndindex.NDIndex.expand"><span class="xref myst py py-meth"><code class="docutils literal notranslate"><span class="pre">expand()</span></code></span></a>, on the
<code class="docutils literal notranslate"><span class="pre">NDindex</span></code> base class.</p></li>
<li><p>Calling <code class="docutils literal notranslate"><span class="pre">Tuple</span></code> with a <code class="docutils literal notranslate"><span class="pre">tuple</span></code> argument now raises <code class="docutils literal notranslate"><span class="pre">ValueError</span></code>. Previously
it raised <code class="docutils literal notranslate"><span class="pre">NotImplementedError</span></code>, because NumPy sometimes treats tuples as
arrays. It was decided to not allow treating a tuple as an array to avoid
the <a class="reference internal" href="type-confusion.html#type-confusion-tuples"><span class="std std-ref">type confusion</span></a> between <code class="docutils literal notranslate"><span class="pre">Tuple((1,</span> <span class="pre">2))</span></code> and
<code class="docutils literal notranslate"><span class="pre">Tuple(1,</span> <span class="pre">2)</span></code> (only the latter form is correct).</p></li>
<li><p>Document the <a class="reference internal" href="api.html#ndindex.ndindex.ImmutableObject.args" title="ndindex.ndindex.ImmutableObject.args"><span class="xref myst py py-attr"><code class="docutils literal notranslate"><span class="pre">.args</span></code></span></a> attribute.</p></li>
<li><p>New internal function <a class="reference internal" href="api.html#ndindex.ndindex.operator_index" title="ndindex.ndindex.operator_index"><code class="xref py py-func docutils literal notranslate"><span class="pre">operator_index()</span></code></a>, which acts like
<code class="docutils literal notranslate"><span class="pre">operator.index()</span></code> except it disallows boolean types. A consequence of this
is that calling the <a class="reference internal" href="api.html#ndindex.Integer" title="ndindex.Integer"><code class="xref py py-class docutils literal notranslate"><span class="pre">Integer</span></code></a> or <a class="reference internal" href="api.html#ndindex.Slice" title="ndindex.Slice"><code class="xref py py-class docutils literal notranslate"><span class="pre">Slice</span></code></a> constructors with
boolean arguments will now result in a <code class="docutils literal notranslate"><span class="pre">TypeError</span></code>. Note that scalar
booleans (<code class="docutils literal notranslate"><span class="pre">False</span></code> and <code class="docutils literal notranslate"><span class="pre">True</span></code>) are valid indices, but they are not the same
as the integer indices <code class="docutils literal notranslate"><span class="pre">0</span></code> and <code class="docutils literal notranslate"><span class="pre">1</span></code>.</p></li>
</ul>
</section>
</section>
<section id="version-1-3-1-2020-07-22">
<h2>Version 1.3.1 (2020-07-22)<a class="headerlink" href="#version-1-3-1-2020-07-22" title="Permalink to this heading">¶</a></h2>
<section id="id8">
<h3>Major Changes<a class="headerlink" href="#id8" title="Permalink to this heading">¶</a></h3>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">as_subindex</span></code> now supports more input types. In particular, <code class="docutils literal notranslate"><span class="pre">Integer</span></code> is now
supported better.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">as_subindex</span></code> will now raise <code class="docutils literal notranslate"><span class="pre">ValueError</span></code> in some cases when the two indices
do not intersect with each other. This is because representing the correct
answer is either impossible or requires an index type that is not yet
implemented in ndindex.</p></li>
</ul>
</section>
<section id="id9">
<h3>Minor Changes<a class="headerlink" href="#id9" title="Permalink to this heading">¶</a></h3>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">as_subindex</span></code> correctly gives <code class="docutils literal notranslate"><span class="pre">NotImplementedError</span></code> for Tuples with
ellipses.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">ndindex(list/array/bool/None)</span></code> now correctly raise <code class="docutils literal notranslate"><span class="pre">NotImplementedError</span></code>
instead of <code class="docutils literal notranslate"><span class="pre">TypeError</span></code>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">ndindex()</span></code> now raises <code class="docutils literal notranslate"><span class="pre">IndexError</span></code> instead of <code class="docutils literal notranslate"><span class="pre">TypeError</span></code> on invalid index
types, with error messages that match NumPy. This also applies to various
API functions that call <code class="docutils literal notranslate"><span class="pre">ndindex()</span></code> on their arguments.</p></li>
<li><p>Update the “too many indices for array” error messages to match NumPy 1.19.</p></li>
<li><p>Better checking of arguments for functions that take a shape. The allowed
shapes and exceptions should now match NumPy more closely (although unknown
(negative) dimensions do not make sense and are not allowed). Shapes with
NumPy integer types now work properly.</p></li>
</ul>
</section>
</section>
<section id="version-1-3-2020-06-29">
<h2>Version 1.3 (2020-06-29)<a class="headerlink" href="#version-1-3-2020-06-29" title="Permalink to this heading">¶</a></h2>
<section id="id10">
<h3>Major Changes<a class="headerlink" href="#id10" title="Permalink to this heading">¶</a></h3>
<ul class="simple">
<li><p>New method <a class="reference internal" href="api.html#ndindex.ndindex.NDIndex.expand" title="ndindex.ndindex.NDIndex.expand"><span class="xref myst py py-meth"><code class="docutils literal notranslate"><span class="pre">expand</span></code></span></a>, which always returns a Tuple which is
as explicit as possible.</p></li>
<li><p>New method <a class="reference internal" href="api.html#ndindex.ndindex.NDIndex.newshape" title="ndindex.ndindex.NDIndex.newshape"><span class="xref myst py py-meth"><code class="docutils literal notranslate"><span class="pre">newshape</span></code></span></a>, which returns the shape of an
array of shape <code class="docutils literal notranslate"><span class="pre">shape</span></code> after being indexed by <code class="docutils literal notranslate"><span class="pre">idx</span></code>.</p></li>
<li><p>New method <a class="reference internal" href="api.html#ndindex.ndindex.NDIndex.as_subindex" title="ndindex.ndindex.NDIndex.as_subindex"><span class="xref myst py py-meth"><code class="docutils literal notranslate"><span class="pre">as_subindex</span></code></span></a> produces an index <code class="docutils literal notranslate"><span class="pre">k</span></code> such
that <code class="docutils literal notranslate"><span class="pre">a[j][k]</span></code> gives all the elements of <code class="docutils literal notranslate"><span class="pre">a[j]</span></code> that are also in <code class="docutils literal notranslate"><span class="pre">a[i]</span></code> (see
the <a class="reference internal" href="api.html#ndindex.ndindex.NDIndex.as_subindex" title="ndindex.ndindex.NDIndex.as_subindex"><span class="xref myst py py-meth">documentation</span></a> for more information). This is
useful for re-indexing an index onto chunks of an array. Note that this
raises <code class="docutils literal notranslate"><span class="pre">NotImplementedError</span></code> for some index types that are not yet
implemented.</p></li>
<li><p>New method <a class="reference internal" href="api.html#ndindex.ndindex.NDIndex.isempty" title="ndindex.ndindex.NDIndex.isempty"><span class="xref myst py py-meth"><code class="docutils literal notranslate"><span class="pre">isempty</span></code></span></a> returns True if an index always
indexes to an empty array (an array with a 0 in its shape). <code class="docutils literal notranslate"><span class="pre">isempty</span></code> can
also be called with a shape like <code class="docutils literal notranslate"><span class="pre">idx.isempty(shape)</span></code>.</p></li>
<li><p>SymPy is now a hard dependency of ndindex.</p></li>
<li><p>Added extensive documentation on <a class="reference internal" href="slices.html"><span class="doc std std-doc">slice semantics</span></a> to the
documentation.</p></li>
</ul>
</section>
<section id="id11">
<h3>Minor Changes<a class="headerlink" href="#id11" title="Permalink to this heading">¶</a></h3>
<ul class="simple">
<li><p>Made <code class="docutils literal notranslate"><span class="pre">Slice.reduce()</span></code> give a canonical empty slice in some more cases.</p></li>
<li><p>Move the documentation from recommonmark to Myst.</p></li>
<li><p>Add a <a class="reference internal" href="style-guide.html"><span class="doc std std-doc">documentation style guide</span></a>.</p></li>
<li><p>Add “See Also” sections to various docstrings.</p></li>
<li><p>Replace the “Fork me on GitHub” ribbon in the documentation with a pure CSS
version.</p></li>
<li><p>Fix a font name typo in the docs CSS.</p></li>
<li><p>Use a custom doctest runner instead of pytest-doctest. Among other things,
this now ensures all library doctests include all imports required for the
doctest to run in a fresh interpreter.</p></li>
<li><p>Various improvements to test coverage.</p></li>
<li><p>Various minor improvements to documentation.</p></li>
</ul>
</section>
</section>
<section id="version-1-2-2020-05-01">
<h2>Version 1.2 (2020-05-01)<a class="headerlink" href="#version-1-2-2020-05-01" title="Permalink to this heading">¶</a></h2>
<section id="id12">
<h3>Major Changes<a class="headerlink" href="#id12" title="Permalink to this heading">¶</a></h3>
<ul class="simple">
<li><p>Added <code class="docutils literal notranslate"><span class="pre">ellipsis</span></code> to represent ellipsis indices (<code class="docutils literal notranslate"><span class="pre">...</span></code>). See
<a class="reference internal" href="api.html#ndindex.ellipsis" title="ndindex.ellipsis"><code class="xref py py-class docutils literal notranslate"><span class="pre">ellipsis</span></code></a>.</p></li>
</ul>
</section>
<section id="id13">
<h3>Minor Changes<a class="headerlink" href="#id13" title="Permalink to this heading">¶</a></h3>
<ul class="simple">
<li><p>Make <code class="docutils literal notranslate"><span class="pre">str(Tuple)</span></code> more readable.</p></li>
<li><p>Fix a bug in <code class="docutils literal notranslate"><span class="pre">==</span></code> when comparing against non-ndindex types.</p></li>
<li><p>Make <code class="docutils literal notranslate"><span class="pre">==</span></code> give <code class="docutils literal notranslate"><span class="pre">True</span></code> when comparing against equivalent non-ndindex types.</p></li>
<li><p>Make <code class="docutils literal notranslate"><span class="pre">inspect.signature</span></code> give the correct thing for ndindex types.</p></li>
<li><p>Fix <a class="reference internal" href="api.html#ndindex.Tuple.reduce" title="ndindex.Tuple.reduce"><code class="xref any py py-meth docutils literal notranslate"><span class="pre">Tuple.reduce()</span></code></a> with no arguments.</p></li>
<li><p>ndindex now has 100% test coverage.</p></li>
</ul>
</section>
</section>
<section id="version-1-1-2020-04-23">
<h2>Version 1.1 (2020-04-23)<a class="headerlink" href="#version-1-1-2020-04-23" title="Permalink to this heading">¶</a></h2>
<section id="id14">
<h3>Major Changes<a class="headerlink" href="#id14" title="Permalink to this heading">¶</a></h3>
<ul class="simple">
<li><p>ndindex objects no longer automatically canonicalize on instantiation. To
canonicalize an index, call <code class="docutils literal notranslate"><span class="pre">idx.reduce()</span></code> with no arguments. This will put
it in a canonical form that is equivalent for all array shapes (assuming no
IndexErrors). <code class="docutils literal notranslate"><span class="pre">idx.reduce(shape)</span></code> can be used to further canonicalize an
index given that it will index an array of shape <code class="docutils literal notranslate"><span class="pre">shape</span></code>.</p></li>
</ul>
</section>
<section id="id15">
<h3>Minor Changes<a class="headerlink" href="#id15" title="Permalink to this heading">¶</a></h3>
<ul class="simple">
<li><p>Added internal classes to the Sphinx documentation.</p></li>
<li><p>Fixed incorrect <code class="docutils literal notranslate"><span class="pre">Slice.stop</span></code> and <code class="docutils literal notranslate"><span class="pre">Slice.step</span></code>.</p></li>
<li><p>Added the LICENSE file to the source distribution (&#64;synapticarbors).</p></li>
</ul>
</section>
</section>
<section id="version-1-0-2020-04-08">
<h2>Version 1.0 (2020-04-08)<a class="headerlink" href="#version-1-0-2020-04-08" title="Permalink to this heading">¶</a></h2>
<section id="id16">
<h3>Major Changes<a class="headerlink" href="#id16" title="Permalink to this heading">¶</a></h3>
<ul class="simple">
<li><p>Initial ndindex release</p></li>
<li><p>Includes support for <code class="docutils literal notranslate"><span class="pre">Slice</span></code>, <code class="docutils literal notranslate"><span class="pre">Integer</span></code>, and <code class="docutils literal notranslate"><span class="pre">Tuple</span></code></p></li>
<li><p>Implements basic canonicalization, <code class="docutils literal notranslate"><span class="pre">.args</span></code>, hashability, <code class="docutils literal notranslate"><span class="pre">.raw</span></code>, <code class="docutils literal notranslate"><span class="pre">len()</span></code>,
and <code class="docutils literal notranslate"><span class="pre">reduce</span></code>.</p></li>
</ul>
</section>
</section>
</section>


          </div>
              <div class="related bottom">
                &nbsp;
  <nav id="rellinks">
    <ul>
        <li>
          &larr;
          <a href="type-confusion.html" title="Previous document">Type Confusion</a>
        </li>
        <li>
          <a href="style-guide.html" title="Next document">Documentation Style Guide</a>
          &rarr;
        </li>
    </ul>
  </nav>
              </div>
          
        </div>
      </div>
    <div class="clearer"></div>
  </div>
    
    <div class="footer">
      &copy;2020, Quansight Labs.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 5.3.0</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.12</a>
      
      |
      <a href="_sources/changelog.md.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
    <span id="forkongithub"><a href="https://github.com/Quansight-Labs/ndindex">Fork me on GitHub</a></span>
  </body>
</html>